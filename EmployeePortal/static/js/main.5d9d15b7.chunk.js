(this["webpackJsonpemployee-portal"]=this["webpackJsonpemployee-portal"]||[]).push([[0],{146:function(e,t,a){},166:function(e,t,a){"use strict";a.r(t);a(73);var n=a(1),l=a.n(n),r=a(19),s=a.n(r),c=a(178),o=a(7),m=a(8),i=a(9),d=a(10),u=a(175),p=a(176),h=(a(78),a(177)),E=function(e){return function(t){Object(d.a)(n,t);var a=Object(i.a)(n);function n(){return Object(o.a)(this,n),a.apply(this,arguments)}return Object(m.a)(n,[{key:"render",value:function(){return localStorage.getItem("myToken")?l.a.createElement(e,this.props):l.a.createElement(h.a,{to:"/"})}}]),n}(e)},g=a(6),f=a(33),v=a(174),N=(a(82),function(e){Object(d.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).toggleNavbar=function(){n.setState({collapsed:!n.state.collapsed,IsButtonClicked:!0})},n.handleSignOut=function(){localStorage.removeItem("myToken"),console.log("session expired")},n.toggleNavbar=n.toggleNavbar.bind(Object(f.a)(n)),n.state={collapsed:!0,IsButtonClicked:!1},n}return Object(m.a)(a,[{key:"render",value:function(){var e,t,a=localStorage.getItem("myToken");return t=l.a.createElement(g.h,{tag:v.a,type:"button",onClick:this.handleSignOut,to:"/",className:"btn btn-danger button-signout margin-rt10 float-rt"},"Sign Out"),e=l.a.createElement(g.h,{tag:v.a,className:"text-white float-rt mt-1 margin-rt10 margin-rt20",to:"/UserProfile"},localStorage.getItem("myUserName")),l.a.createElement("header",null,l.a.createElement(g.i,{className:"theme1 navbar-expand-sm navbar-toggleable-sm ng-white border-bottom box-shadow mb-3",light:!0},l.a.createElement(g.c,{className:"justifycontent-normal container-width"},l.a.createElement(g.j,{className:"text-black mb-4 mt-4 wrdbreak",tag:v.a,to:"/"},l.a.createElement("h3",null,l.a.createElement("b",null,"Employee Portal"))),l.a.createElement(g.k,{onClick:this.toggleNavbar,className:"mr-2 marginleft55 marginleft40"}),l.a.createElement(g.b,{className:"d-sm-inline-flex flex-sm-row-reverse boxshadow "+(a?"":"d-none"),isOpen:!this.state.collapsed,navbar:!0},l.a.createElement("ul",{className:"navbar-nav flex-grow ml-1 "+(a?"":"d-none")},l.a.createElement(g.g,{className:"text-black padding-5"},l.a.createElement(g.h,{tag:v.a,className:"text-black d-none d-md-block d-lg-block d-xl-block",to:"/"},l.a.createElement("b",null,"Home")),l.a.createElement(g.h,{tag:v.a,className:"text-black d-md-none",onClick:this.toggleNavbar,to:"/"},l.a.createElement("b",null,"Home"))),l.a.createElement(g.l,{className:"text-black padding-5",nav:!0,inNavbar:!0},l.a.createElement(g.f,{nav:!0},l.a.createElement("b",null,"Employee Management")),l.a.createElement(g.e,{className:"theme1"},l.a.createElement(g.d,{className:"theme1"},l.a.createElement(g.g,null,l.a.createElement(g.h,{tag:v.a,className:"text-black d-none d-md-block d-lg-block d-xl-block",to:"/Employees"},l.a.createElement("b",null,"Employees")),l.a.createElement(g.h,{tag:v.a,className:"text-black d-md-none",onClick:this.toggleNavbar,to:"/Employees"},l.a.createElement("b",null,"Employees")))),l.a.createElement(g.d,{className:"theme1"},l.a.createElement(g.g,null,l.a.createElement(g.h,{tag:v.a,className:"text-black d-none d-md-block d-lg-block d-xl-block",to:"/Departments"},l.a.createElement("b",null,"Departments")),l.a.createElement(g.h,{tag:v.a,className:"text-black d-md-none",onClick:this.toggleNavbar,to:"/Departments"},l.a.createElement("b",null,"Departments")))))),l.a.createElement(g.l,{className:"text-black padding-5",nav:!0,inNavbar:!0},l.a.createElement(g.f,{nav:!0},l.a.createElement("b",null,"User Manager")),l.a.createElement(g.e,{className:"theme1"},l.a.createElement(g.d,{className:"theme1"},l.a.createElement(g.g,{className:"text-black padding-5"},l.a.createElement(g.h,{tag:v.a,className:"text-black d-none d-md-block d-lg-block d-xl-block",to:"/Users"},l.a.createElement("b",null,"Users")),l.a.createElement(g.h,{tag:v.a,className:"text-black d-md-none",onClick:this.toggleNavbar,to:"/Users"},l.a.createElement("b",null,"Users")))),l.a.createElement(g.d,{className:"theme1"},l.a.createElement(g.g,{className:"text-black padding-5"},l.a.createElement(g.h,{tag:v.a,className:"text-black d-none d-md-block d-lg-block d-xl-block",to:"/CreateUser"},l.a.createElement("b",null,"Create User")),l.a.createElement(g.h,{tag:v.a,className:"text-black d-md-none",onClick:this.toggleNavbar,to:"/CreateUser"},l.a.createElement("b",null,"Create User")))),l.a.createElement(g.d,{className:"theme1"},l.a.createElement(g.g,{className:"text-black padding-5"},l.a.createElement(g.h,{tag:v.a,className:"text-black d-none d-md-block d-lg-block d-xl-block",to:"/ChangePassword"},l.a.createElement("b",null,"Change Password")),l.a.createElement(g.h,{tag:v.a,className:"text-black d-md-none",onClick:this.toggleNavbar,to:"/ChangePassword"},l.a.createElement("b",null,"Change Password")))))),l.a.createElement(g.g,{className:"d-md-none"},l.a.createElement("div",null,l.a.createElement("small",null,e))),l.a.createElement(g.g,{className:"d-md-none"},l.a.createElement("div",null,l.a.createElement("small",null,t)))))),l.a.createElement("div",{className:a?"":"d-none"},l.a.createElement("div",{className:"d-none d-md-block d-lg-block d-xl-block"},l.a.createElement("small",null,e)),l.a.createElement("div",{className:"d-none d-md-block d-lg-block d-xl-block"},l.a.createElement("small",null,t)))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return t.collapsed||t.IsButtonClicked?{collapsed:t.collapsed,IsButtonClicked:!1}:{collapsed:!0}}}]),a}(n.Component));N.displayName=N.name;var b=function(e){Object(d.a)(a,e);var t=Object(i.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(N,null),l.a.createElement(g.c,{className:"container-width"},this.props.children))}}]),a}(n.Component);b.displayName=b.name;var w=function(e){var t,a=e.message,n=e.type;return e.visible||(t="d-none"),l.a.createElement("div",{className:t},l.a.createElement("div",{className:"col-lg-2"}),l.a.createElement("div",{className:"col-12 col-lg-8 margin-top-75"},l.a.createElement(g.a,{className:"txt-center opacity-100",color:n}," ",a," ")))},y=a(35);var P=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"POST",n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],l="Bearer "+localStorage.getItem("myToken"),r={"Content-Type":"application/json",Accept:"application/json","Access-Control-Allow-Origin":"*"};n&&(r.Authorization=l);var s={method:a,withCredentials:!0,headers:r};return"POST"!==a&&"PUT"!==a||(s.body=t),Object(y.trackPromise)(fetch("http://employee.service.com"+e,s).then((function(e){if(e.ok)return e.json();var t=e.text();throw"UNAUTHORIZED"===e.statusText.toUpperCase()&&(alert("Session has expired."),localStorage.removeItem("myToken")),t})).then((function(e){return e}),(function(e){return"TypeError: Failed to fetch"===e.toString()&&(alert("Session has expired."),localStorage.removeItem("myToken")),e})))},S=function(e){Object(d.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleSubmit=function(){if(""===n.state.Name||""===n.state.Location)return n.setState({showAlert:!0,alertType:"danger"});var e=JSON.stringify({ID:0,Name:n.state.Name,Location:n.state.Location});P("/api/Departments",e,"POST").then((function(e){n.setState({showAlert:!0,alertType:"success",Name:"",Location:""})}))},n.handleBack=function(){return n.props.history.goBack()},n.state={Name:"",Location:"",token:localStorage.getItem("myToken")||"",showAlert:!1,alertType:""},n}return Object(m.a)(a,[{key:"render",value:function(){var e,t=this,a=this.state,n=a.Name,r=a.Location,s=a.showAlert,c=a.alertType;return"success"===c?e="Department has been added successfully.":"danger"===c&&(e="Name and Location fields cannot be empty."),l.a.createElement("div",null,l.a.createElement("div",{className:"container border"},l.a.createElement("h4",{className:"mt-2 mb-5"},l.a.createElement("b",null,"Add - Department")),l.a.createElement("form",null,l.a.createElement("div",{className:"row  p-2"},l.a.createElement("div",{className:"col-4"},l.a.createElement("label",null,"Department name")),l.a.createElement("input",{value:n,onChange:function(e){t.setState({Name:e.target.value,successAlert:!1,errorAlert:!1})},className:"mt-1",type:"text"})),l.a.createElement("div",{className:"row  p-2"},l.a.createElement("div",{className:"col-4"},l.a.createElement("label",null,"Location")),l.a.createElement("input",{value:r,onChange:function(e){t.setState({Location:e.target.value,successAlert:!1,errorAlert:!1})},className:"mt-1",type:"text"})),l.a.createElement("div",{className:"row p-2"},l.a.createElement("div",{className:"col-4"}),l.a.createElement("input",{className:"btn btn-success mr-1",onClick:this.handleSubmit,type:"button",value:"Save"}),l.a.createElement("input",{className:"mr-lg-1 btn bg-dark text-white btn-md",onClick:this.handleBack,type:"button",value:"Back"})))),l.a.createElement(w,{message:e,visible:s,type:c}))}}]),a}(n.Component),C=(a(47),function(e){Object(d.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){P("/api/Departments","","GET").then((function(e){var t=e.length,a=parseInt(t/n.state.pageRows,10),l=parseInt(t%n.state.pageRows,10);l>0&&a++,n.setState({departmentData:e,keys:Object.keys(e[0]),noOfPages:a,totalRows:t,lastPageRows:l})}))},n.renderTableData=function(e,t){return"object"===typeof n.state.departmentData&&n.state.departmentData&&n.state.departmentData.length?n.state.departmentData.slice(e,e+t).map((function(e,t){var a=e.ID,n=e.Name,r=e.Location;return l.a.createElement("tr",{key:t},l.a.createElement("td",null,a),l.a.createElement("td",null,n),l.a.createElement("td",null,r),l.a.createElement("td",null,l.a.createElement(v.a,{className:"edit",title:"Edit",to:{pathname:"/EditDepartment",data:{ID:a}},"data-toggle":"tooltip"},l.a.createElement("i",{className:"material-icons"},"\ue254"))))})):null},n.handleChangePage=function(e,t){e.preventDefault();var a=n.state.pageRows;t===n.state.noOfPages?n.setState({firstRow:a*(t-1),currentPageRows:n.state.lastPageRows,activePage:t}):n.setState({firstRow:a*(t-1),currentPageRows:a,activePage:t})},n.renderPagination=function(){for(var e=[],t=function(t){e.push(l.a.createElement("li",{key:t,className:"page-item "+(n.state.activePage===t?"active":"")},l.a.createElement("a",{onClick:function(e){return n.handleChangePage(e,t)},href:"/",className:"page-link"},t)))},a=1;a<=n.state.noOfPages;a++)t(a);return e},n.handleForwardPage=function(e){e.preventDefault(),e.persist(),n.state.activePage!==n.state.noOfPages&&n.setState((function(e){return{activePage:e.activePage+1}}),(function(){n.handleChangePage(e,n.state.activePage)}))},n.handleBackwardPage=function(e){e.preventDefault(),e.persist(),1!==n.state.activePage&&n.setState((function(e){return{activePage:e.activePage-1}}),(function(){n.handleChangePage(e,n.state.activePage)}))},n.handleAddDepartment=function(){n.props.history.push("/AddDepartment")},n.state={departmentData:[],keys:[],noOfPages:0,firstRow:0,totalRows:0,currentPageRows:10,pageRows:10,lastPageRows:10,activePage:1},n}return Object(m.a)(a,[{key:"renderTableHeader",value:function(){var e=this.state.keys;return""===e[e.length-1]&&e.pop(),e.push.apply(e,[""]),e.map((function(e,t){return""===e?l.a.createElement("th",{key:t}):"ID"===e.toUpperCase()?l.a.createElement("th",{className:"col1width15",key:t},"ID"):l.a.createElement("th",{key:t},e.toUpperCase())}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.totalRows,n=t.currentPageRows,r=t.firstRow,s=t.activePage,c=t.noOfPages;return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"table-wrapper"},l.a.createElement("div",{className:"table-title"},l.a.createElement("div",{className:"row nowrap"},l.a.createElement("div",{className:"col-sm-8"},l.a.createElement("h2",null,"Department ",l.a.createElement("b",null,"Details"))),l.a.createElement("div",{className:"col-sm-4"},l.a.createElement("button",{type:"button",onClick:this.handleAddDepartment,className:"btn btn-success add-new"},l.a.createElement("i",{className:"fa fa-plus"})," Add New")))),l.a.createElement("table",{className:"table table-striped table-hover table-bordered tablemobileoverflowx"},l.a.createElement("thead",null,l.a.createElement("tr",{className:"bg-secondary"},this.renderTableHeader())),l.a.createElement("tbody",null,this.renderTableData(r,n))),l.a.createElement("div",{className:"clearfix"},l.a.createElement("div",{className:"hint-text"},"Showing ",l.a.createElement("b",null,a>n?n:a)," out of ",l.a.createElement("b",null,a)," entries"),l.a.createElement("ul",{className:"pagination"},l.a.createElement("li",{className:"page-item "+(1===s?"disabled":"")},l.a.createElement("a",{onClick:function(t){return e.handleBackwardPage(t)},href:"/",className:"page-link"},l.a.createElement("i",{className:"fa fa-angle-double-left"}))),this.renderPagination(),l.a.createElement("li",{className:"page-item "+(s===c?"disabled":"")},l.a.createElement("a",{onClick:function(t){return e.handleForwardPage(t)},href:"/",className:"page-link"},l.a.createElement("i",{className:"fa fa-angle-double-right"})))))))}}]),a}(n.Component)),k=a(179),O=function(e){Object(d.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){var e=localStorage.getItem("myUserName");if(0===n.id||localStorage.getItem("id"+e))n.hydrateStateWithLocalStorage();else{var t="/api/Departments/"+n.id;P(t,"","GET").then((function(e){n.setState({Name:e.Name,Location:e.Location},(function(){return n.saveStateToLocalStorage()}))}))}},n.handleSubmit=function(){if(n.state.readOnly)n.setState({readOnly:!1,showAlert:!1,alertType:""});else{if(""===n.state.Name||""===n.state.Location)return n.setState({showAlert:!0,alertType:"danger"});var e="/api/Departments/"+n.id,t=JSON.stringify({ID:n.id,Name:n.state.Name,Location:n.state.Location});P(e,t,"PUT").then((function(e){if(!e.Message||"SUCCESS"!==e.Message.toUpperCase())return n.setState({showAlert:!0,alertType:"danger",message:"Some error occured, please try again."});n.setState({showAlert:!0,alertType:"success",readOnly:!0,isBlocking:!1})}))}},n.handleBack=function(){return n.props.history.push("/Departments")},n.handlePrompt=function(){return"Are you sure you want to do this action, any unsaved changes may be lost"},n.state={Name:"",Location:"",showAlert:!1,alertType:"",message:"",readOnly:!1,isBlocking:!1},n.id=0,n}return Object(m.a)(a,[{key:"saveStateToLocalStorage",value:function(){var e=localStorage.getItem("myUserName");for(var t in this.state)localStorage.setItem(t+e,JSON.stringify(this.state[t]));localStorage.setItem("id"+e,this.id)}},{key:"hydrateStateWithLocalStorage",value:function(){var e=localStorage.getItem("myUserName");this.setState({Name:JSON.parse(localStorage.getItem("Name"+e)),Location:JSON.parse(localStorage.getItem("Location"+e)),showAlert:JSON.parse(localStorage.getItem("showAlert"+e)),alertType:JSON.parse(localStorage.getItem("alertType"+e)),message:JSON.parse(localStorage.getItem("message"+e)),readOnly:JSON.parse(localStorage.getItem("readOnly"+e)),isBlocking:JSON.parse(localStorage.getItem("isBlocking"+e))}),this.id=localStorage.getItem("id"+e)}},{key:"componentWillUnmount",value:function(){var e=localStorage.getItem("myUserName");for(var t in this.state)localStorage.removeItem(t+e);localStorage.removeItem("id"+e)}},{key:"render",value:function(){var e=this,t=localStorage.getItem("myUserName"),a=this.state,n=a.Name,r=a.Location,s=a.showAlert,c=a.alertType,o=a.message,m=a.readOnly;if(this.props.location&&this.props.location.data&&this.props.location.data.ID&&(this.id=this.props.location.data.ID),(!this.id||0===this.id)&&!localStorage.getItem("id"+t))return l.a.createElement(h.a,{to:"/Departments"});var i;return"success"===c?i="Department has been edited successfully.":"danger"===c&&(i=""!==o?o:"Name and Location fields cannot be empty."),l.a.createElement("div",null,l.a.createElement(k.a,{when:this.state.isBlocking,message:this.handlePrompt}),l.a.createElement(g.c,{className:"border"},l.a.createElement("h4",{className:"mt-2 mb-5"},l.a.createElement("b",null,"Edit - Department")),l.a.createElement("form",null,l.a.createElement("div",{className:"row  p-2"},l.a.createElement("div",{className:"col-4"},l.a.createElement("label",null,"Department name")),l.a.createElement("input",{value:n,onChange:function(t){e.setState({Name:t.target.value,isBlocking:!0},(function(){return e.saveStateToLocalStorage()}))},className:"mb-1 "+(!0===m?"disabled-inputs":""),type:"text"})),l.a.createElement("div",{className:"row  p-2"},l.a.createElement("div",{className:"col-4"},l.a.createElement("label",null,"Location")),l.a.createElement("input",{value:r,onChange:function(t){e.setState({Location:t.target.value,isBlocking:!0},(function(){return e.saveStateToLocalStorage()}))},className:"mb-1 "+(!0===m?"disabled-inputs":""),type:"text"})),l.a.createElement("div",{className:"row p-2"},l.a.createElement("div",{className:"col-4"}),l.a.createElement("input",{className:"btn btn-success mr-1",onClick:this.handleSubmit,type:"button",value:!0===m?"Edit":"Update"}),l.a.createElement("input",{className:"mr-lg-1 btn bg-dark text-white btn-md",onClick:this.handleBack,type:"button",value:"Back"})))),l.a.createElement(w,{message:i,visible:s,type:c}))}}]),a}(n.Component),D=function(e){Object(d.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){P("/api/Departments","","GET").then((function(e){var t=e.map((function(e,t){return l.a.createElement("option",{key:t+1,value:e.ID},e.Name,"(",e.Location,") ")}));n.setState({departmentOptions:t},(function(){}))}))},n.handleSubmit=function(){if(""===n.state.fName||""===n.state.lName||"select"===n.state.DepartmentId||"select"===n.state.gender||""===n.state.salary||""===n.state.jobTitle)return n.setState({showAlert:!0,alertType:"danger"});var e=JSON.stringify({ID:0,DepartmentId:n.state.departmentId,FirstName:n.state.fName,LastName:n.state.lName,Gender:n.state.gender,Salary:n.state.salary,JobTitle:n.state.jobTitle});P("/api/Employees",e,"POST").then((function(e){console.log(e),n.setState({showAlert:!0,alertType:"success",departmentId:"select",fName:"",lName:"",gender:"",salary:"",jobTitle:""})}))},n.handleBack=function(){return n.props.history.goBack()},n.state={token:localStorage.getItem("myToken")||"",showAlert:!1,alertType:"",departmentOptions:[],fName:"",lName:"",gender:"",salary:"",departmentId:"",jobTitle:""},n}return Object(m.a)(a,[{key:"render",value:function(){var e,t=this,a=[l.a.createElement("option",{key:"1",value:"Male"},"Male"),l.a.createElement("option",{key:"2",value:"Female"},"Female")],n=this.state,r=n.fName,s=n.lName,c=n.gender,o=n.salary,m=n.departmentId,i=n.jobTitle,d=n.showAlert,u=n.alertType;return"success"===u?e="Employee has been added successfully.":"danger"===u&&(e="Please fill in all required fields."),l.a.createElement("div",null,l.a.createElement(g.c,{className:"border"},l.a.createElement("h4",{className:"mt-2 mb-5"},l.a.createElement("b",null,"Add - Employee")),l.a.createElement("form",null,l.a.createElement("div",{className:"row  p-2"},l.a.createElement("div",{className:"col-4"},l.a.createElement("label",null,"First name")),l.a.createElement("input",{type:"text",value:r,onChange:function(e){t.setState({fName:e.target.value})}})),l.a.createElement("div",{className:"row  p-2"},l.a.createElement("div",{className:"col-4"},l.a.createElement("label",null,"Last name")),l.a.createElement("input",{type:"text",value:s,onChange:function(e){t.setState({lName:e.target.value})}})),l.a.createElement("div",{className:"row  p-2"},l.a.createElement("div",{className:"col-4"},l.a.createElement("label",null,"Gender")),l.a.createElement("select",{value:c,onChange:function(e){t.setState({gender:e.target.value})}},l.a.createElement("option",{key:"0",value:"select"},"Select"),a)),l.a.createElement("div",{className:"row  p-2"},l.a.createElement("div",{className:"col-4"},l.a.createElement("label",null,"Salary")),l.a.createElement("input",{value:o,onChange:function(e){t.setState({salary:e.target.value})},type:"text"})),l.a.createElement("div",{className:"row  p-2"},l.a.createElement("div",{className:"col-4"},l.a.createElement("label",null,"Department")),l.a.createElement("select",{value:m,onChange:function(e){t.setState({departmentId:e.target.value})}},l.a.createElement("option",{key:"0",value:"select"},"Select"),this.state.departmentOptions)),l.a.createElement("div",{className:"row  p-2"},l.a.createElement("div",{className:"col-4"},l.a.createElement("label",null,"Job Title")),l.a.createElement("input",{value:i,onChange:function(e){t.setState({jobTitle:e.target.value})},type:"text"})),l.a.createElement("div",{className:"row p-2"},l.a.createElement("div",{className:"col-4"}),l.a.createElement("input",{className:"btn btn-success mr-1",value:"Save",onClick:this.handleSubmit,type:"button"}),l.a.createElement("input",{className:"mr-lg-1 btn bg-dark text-white btn-md",onClick:this.handleBack,type:"button",value:"Back"})))),l.a.createElement(w,{message:e,visible:d,type:u}))}}]),a}(n.Component),U=function(e){Object(d.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){var e="/api/Departments";P(e,"","GET").then((function(e){if(e){var t=e.map((function(e,t){return l.a.createElement("option",{key:t+1,value:e.ID},e.Name," (",e.Location,") ")}));n.setState({departmentOptions:t},(function(){}))}})),0!==n.id&&(e="/api/Employees/"+n.id,P(e,"","GET").then((function(e){console.log(e),e&&n.setState({fName:e.FirstName,lName:e.LastName,gender:e.Gender,salary:e.Salary,departmentId:e.DepartmentId,jobTitle:e.JobTitle,joiningDate:e.JoiningDate})})))},n.handleSubmit=function(){if(n.state.readOnly)n.setState({readOnly:!1,showAlert:!1,alertType:""});else{if("select"===n.state.DepartmentId||""===n.state.salary||""===n.state.jobTitle)return n.setState({showAlert:!0,alertType:"danger"});var e="/api/Employees/"+n.id,t=JSON.stringify({ID:n.id,DepartmentId:n.state.departmentId,FirstName:n.state.fName,LastName:n.state.lName,Gender:n.state.gender,Salary:n.state.salary,JobTitle:n.state.jobTitle,JoiningDate:n.state.joiningDate});P(e,t,"PUT").then((function(e){if(!e.Message||"SUCCESS"!==e.Message.toUpperCase())return console.log(e),n.setState({showAlert:!0,alertType:"danger",message:"Some error occured, please try again."});n.setState({showAlert:!0,alertType:"success",readOnly:!0})}))}},n.handleBack=function(){return n.props.history.goBack()},n.state={showAlert:!1,alertType:"",departmentOptions:[],fName:"",lName:"",gender:"",salary:"",departmentId:"",jobTitle:"",joiningDate:"",id:0,message:"",readOnly:!1},n.id=0,n}return Object(m.a)(a,[{key:"render",value:function(e){var t=this;this.props.location&&this.props.location.data&&this.props.location.data.ID&&(this.id=this.props.location.data.ID);var a,n=this.state,r=n.fName,s=n.lName,c=n.gender,o=n.salary,m=n.departmentId,i=n.jobTitle,d=n.showAlert,u=n.alertType,p=n.message,h=n.readOnly;return"success"===u?a="Employee data has been edited successfully.":"danger"===u&&(a=""!==p?p:"Please fill in all required fields."),l.a.createElement("div",null,l.a.createElement("div",{className:"container border"},l.a.createElement("h4",{className:"mt-2 mb-4"},l.a.createElement("b",null,"Edit - Employee")),l.a.createElement("form",null,l.a.createElement("div",{className:"row  p-2"},l.a.createElement("div",{className:"col-4"},l.a.createElement("label",null,"Employee name")),l.a.createElement("label",null,r," ",s)),l.a.createElement("div",{className:"row  p-2"},l.a.createElement("div",{className:"col-4"},l.a.createElement("label",null,"Gender")),l.a.createElement("label",null,c)),l.a.createElement("div",{className:"row  p-2"},l.a.createElement("div",{className:"col-4"},l.a.createElement("label",null,"Salary")),l.a.createElement("input",{className:!0===h?"disabled-inputs":"",value:o,onChange:function(e){t.setState({salary:e.target.value})},type:"text"})),l.a.createElement("div",{className:"row  p-2"},l.a.createElement("div",{className:"col-4"},l.a.createElement("label",null,"Department")),l.a.createElement("select",{className:!0===h?"disabled-inputs":"",value:m,onChange:function(e){t.setState({departmentId:e.target.value})}},l.a.createElement("option",{key:"0",value:"select"},"Select"),this.state.departmentOptions)),l.a.createElement("div",{className:"row  p-2"},l.a.createElement("div",{className:"col-4"},l.a.createElement("label",null,"Job Title")),l.a.createElement("input",{className:!0===h?"disabled-inputs":"",value:i,onChange:function(e){t.setState({jobTitle:e.target.value})},type:"text"})),l.a.createElement("div",{className:"row p-2"},l.a.createElement("div",{className:"col-4"}),l.a.createElement("input",{className:"btn btn-success mr-1",value:!0===h?"Edit":"Update",onClick:function(){return t.handleSubmit()},type:"button"}),l.a.createElement("input",{className:"mr-lg-1 btn bg-dark text-white btn-md",onClick:this.handleBack,type:"button",value:"Back"})))),l.a.createElement(w,{message:a,visible:d,type:u}))}}]),a}(n.Component),I=a(168),T=function(e){Object(d.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){P("/api/Employees","","GET").then((function(e){var t=e.length,a=parseInt(t/n.state.pageRows,10),l=parseInt(t%n.state.pageRows,10);l>0&&a++,n.setState({employeeData:e,keys:Object.keys(e[0]),noOfPages:a,totalRows:t,lastPageRows:l})}))},n.renderTableData=function(e,t){return"object"===typeof n.state.employeeData&&n.state.employeeData&&n.state.employeeData.length?n.state.employeeData.slice(e,e+t).map((function(e,t){var a=e.ID,n=e.FirstName,r=e.LastName,s=e.Gender,c=e.DepartmentName,o=e.DepartmentLocation,m=e.JobTitle,i=e.JoiningDate,d=e.InService;return l.a.createElement("tr",{key:t},l.a.createElement("td",null,a),l.a.createElement("td",null,n+" "+r),l.a.createElement("td",null,s),l.a.createElement("td",null,c),l.a.createElement("td",null,o),l.a.createElement("td",null,null!==i?Object(I.default)(new Date(i),"dd MMM yyyy"):""),l.a.createElement("td",null,!0===d?"Yes":"No"),l.a.createElement("td",null,m),l.a.createElement("td",null,l.a.createElement(v.a,{className:"edit",title:"Edit",to:{pathname:"/EditEmployee",data:{ID:a}},"data-toggle":"tooltip"},l.a.createElement("i",{className:"material-icons"},"\ue254"))))})):null},n.renderTableHeader=function(){var e=n.state.keys;return console.log(e),""===e[e.length-1]&&e.pop(),e.push.apply(e,[""]),e.map((function(e,t){return""===e?l.a.createElement("th",{key:t}):"ID"===e.toUpperCase()?l.a.createElement("th",{className:"col1width15",key:t},"ID"):"DEPARTMENTNAME"===e.toUpperCase()?l.a.createElement("th",{key:t},"DEPARTMENT"):"DEPARTMENTLOCATION"===e.toUpperCase()?l.a.createElement("th",{key:t},"LOCATION"):"FIRSTNAME"!==e.toUpperCase()&&"LASTNAME"!==e.toUpperCase()&&"DEPARTMENTID"!==e.toUpperCase()&&"SALARY"!==e.toUpperCase()&&"LEAVINGDATE"!==e.toUpperCase()?l.a.createElement("th",{key:t},e.toUpperCase()):"FIRSTNAME"===e.toUpperCase()?l.a.createElement("th",{key:t},"NAME"):null}))},n.handleChangePage=function(e,t){e.preventDefault();var a=n.state.pageRows;t===n.state.noOfPages?n.setState({firstRow:a*(t-1),currentPageRows:n.state.lastPageRows,activePage:t}):n.setState({firstRow:a*(t-1),currentPageRows:a,activePage:t})},n.renderPagination=function(){for(var e=[],t=function(t){e.push(l.a.createElement("li",{key:t,className:"page-item "+(n.state.activePage===t?"active":"")},l.a.createElement("a",{onClick:function(e){return n.handleChangePage(e,t)},href:"/",className:"page-link"},t)))},a=1;a<=n.state.noOfPages;a++)t(a);return e},n.handleForwardPage=function(e){e.preventDefault(),e.persist(),n.state.activePage!==n.state.noOfPages&&n.setState((function(e){return{activePage:e.activePage+1}}),(function(){n.handleChangePage(e,n.state.activePage)}))},n.handleBackwardPage=function(e){e.preventDefault(),e.persist(),1!==n.state.activePage&&n.setState((function(e){return{activePage:e.activePage-1}}),(function(){n.handleChangePage(e,n.state.activePage)}))},n.handleAddEmployee=function(){n.props.history.push("/AddEmployee")},n.state={employeeData:[],keys:[],noOfPages:0,firstRow:0,totalRows:0,currentPageRows:10,pageRows:10,lastPageRows:10,activePage:1},n}return Object(m.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.totalRows,n=t.currentPageRows,r=t.firstRow,s=t.activePage,c=t.noOfPages;return l.a.createElement(g.c,null,l.a.createElement("div",{className:"table-wrapper"},l.a.createElement("div",{className:"table-title"},l.a.createElement("div",{className:"row nowrap"},l.a.createElement("div",{className:"col-sm-8"},l.a.createElement("h2",null,"Employee ",l.a.createElement("b",null,"Details"))),l.a.createElement("div",{className:"col-sm-4"},l.a.createElement("button",{type:"button",onClick:this.handleAddEmployee,className:"btn btn-success add-new"},l.a.createElement("i",{className:"fa fa-plus"})," Add New")))),l.a.createElement("table",{className:"table table-striped table-hover table-bordered border-0 tablemobile"},l.a.createElement("thead",null,l.a.createElement("tr",{className:"bg-secondary"},this.renderTableHeader())),l.a.createElement("tbody",null,this.renderTableData(r,n))),l.a.createElement("div",{className:"clearfix"},l.a.createElement("div",{className:"hint-text"},"Showing ",l.a.createElement("b",null,a>n?n:a)," out of ",l.a.createElement("b",null,a)," entries"),l.a.createElement("ul",{className:"pagination"},l.a.createElement("li",{className:"page-item "+(1===s?"disabled":"")},l.a.createElement("a",{onClick:function(t){return e.handleBackwardPage(t)},href:"/",className:"page-link"},l.a.createElement("i",{className:"fa fa-angle-double-left"}))),this.renderPagination(),l.a.createElement("li",{className:"page-item "+(s===c?"disabled":"")},l.a.createElement("a",{onClick:function(t){return e.handleForwardPage(t)},href:"/",className:"page-link"},l.a.createElement("i",{className:"fa fa-angle-double-right"})))))))}}]),a}(n.Component),j=(a(86),function(e){Object(d.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleClick=function(){var e="username="+n.state.Username+"&password="+n.state.Password+"&grant_type=password";P("/token",e,"POST",!1).then((function(e){console.log("UserName:"+e.userName),n.setState({token:e.access_token,loggedInUser:e.userName},(function(){localStorage.setItem("myToken",n.state.token),localStorage.setItem("myUserName",n.state.loggedInUser),n.props.history.push("/Employees")}))}))},n.state={Username:"",Password:"",token:localStorage.getItem("myToken")||"",loggedInUser:""},n}return Object(m.a)(a,[{key:"render",value:function(){var e=this;return localStorage.getItem("myToken")?l.a.createElement("div",{className:"row justify-content-md-center"},"Welcome to the Employee portal."):l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-sm-9 col-md-7 col-lg-5 mx-auto"},l.a.createElement("div",{className:"card card-signin my-5"},l.a.createElement("div",{className:"card-body"},l.a.createElement("h5",{className:"card-title text-center"},"Sign In"),l.a.createElement("div",{className:"form-label-group"},l.a.createElement("input",{type:"email",className:"form-control",placeholder:"Username",value:this.state.Username,onChange:function(t){e.setState({Username:t.target.value})}})),l.a.createElement("div",{className:"form-label-group"},l.a.createElement("input",{type:"password",id:"inputPassword",className:"form-control",value:this.state.Password,onChange:function(t){e.setState({Password:t.target.value})},placeholder:"Password"})),l.a.createElement("div",{className:"custom-control custom-checkbox mb-3"},l.a.createElement("input",{type:"checkbox",className:"custom-control-input",id:"customCheck1"}),l.a.createElement("label",{className:"custom-control-label",htmlFor:"customCheck1"},"Remember password")),l.a.createElement("button",{className:"btn btn-lg btn-success btn-block text-uppercase",value:"Submit",onClick:this.handleClick,type:"button"},"Sign in"))))))}}]),a}(n.Component));j.displayName=j.name;var x=function(e){Object(d.a)(a,e);var t=Object(i.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("h1",null,"Page Not Found"),l.a.createElement("p",null,"Sorry, there is nothing to see here."),l.a.createElement("p",null,l.a.createElement(v.a,{to:"/"},"Back to Home")))}}]),a}(n.Component);var A=function(e){try{if(""!==e){var t=JSON.parse(e);if(null!==t.ModelState){var a=t.ModelState;if(null!==Object.getOwnPropertyNames(a)){var n=Object.getOwnPropertyNames(a);if(""===n[0])return a[""][0];if("model.ConfirmPassword"===n[0])return a["model.ConfirmPassword"][0]}}}}catch(l){return"Some error occured, please try again"}},B=function(e){Object(d.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){var e=0===n.id?"/api/Account/UserInfo":"/api/Account/UserInfo/"+n.id;P(e,"","GET").then((function(e){e.UserId&&n.setState({UserName:e.UserName?e.UserName:"",UserId:e.UserId?e.UserId:""})}))},n.handleSubmit=function(){if(""===n.state.newPassword||""===n.state.confirmPassword)return n.setState({showAlert:!0,alertType:"danger"});if(""===n.state.oldPassword&&0===n.id)return n.setState({showAlert:!0,alertType:"danger"});var e=0===n.id?"/api/Account/ChangePassword":"/api/Account/ResetPassword",t={NewPassword:n.state.newPassword,ConfirmPassword:n.state.confirmPassword};0===n.id?t.OldPassword=n.state.oldPassword:t.UserId=n.state.UserId;var a=JSON.stringify(t);P(e,a,"POST").then((function(e){return e.Message&&"SUCCESS"===e.Message.toUpperCase()?n.setState({showAlert:!0,alertType:"success"}):n.setState({showAlert:!0,alertType:"danger",message:A(e)})}))},n.handleBack=function(){return n.props.history.goBack()},n.state={UserName:"",UserId:"",oldPassword:"",newPassword:"",confirmPassword:"",showAlert:!1,alertType:"",message:""},n.id=0,n}return Object(m.a)(a,[{key:"render",value:function(){var e=this,t="Change Password";this.props.location&&this.props.location.data&&this.props.location.data.UsersId&&(this.id=this.props.location.data.UsersId),0!==this.id&&(t="Reset Password");var a,n=this.state,r=n.confirmPassword,s=n.newPassword,c=n.oldPassword,o=n.message,m=n.showAlert,i=n.alertType;return"success"===i?a="Password has been changed successfully.":"danger"===i&&(a=""!==o?o:"Please fill in all required fields."),l.a.createElement("div",null,l.a.createElement("div",{className:"container border"},l.a.createElement("h5",{className:"mt-2 mb-5"},l.a.createElement("b",null,t)),l.a.createElement("form",null,l.a.createElement("div",{className:"row  p-2"},l.a.createElement("div",{className:"col-4"},l.a.createElement("label",null,"Username")),l.a.createElement("label",{className:"mt-1"},this.state.UserName)),l.a.createElement("div",{className:"row p-2 "+(0===this.id?"":"d-none")},l.a.createElement("div",{className:"col-4"},l.a.createElement("label",null,"Old Password")),l.a.createElement("input",{value:c,onChange:function(t){return e.setState({oldPassword:t.target.value,alertType:"",showAlert:!1})},type:"password"})),l.a.createElement("div",{className:"row p-2"},l.a.createElement("div",{className:"col-4"},l.a.createElement("label",null,"New Password")),l.a.createElement("input",{value:s,onChange:function(t){return e.setState({newPassword:t.target.value,alertType:"",showAlert:!1})},type:"password"})),l.a.createElement("div",{className:"row p-2"},l.a.createElement("div",{className:"col-4"},l.a.createElement("label",null,"Confirm New Password")),l.a.createElement("input",{value:r,onChange:function(t){return e.setState({confirmPassword:t.target.value,alertType:"",showAlert:!1})},type:"password"})),l.a.createElement("div",{className:"row p-2"},l.a.createElement("div",{className:"col-4"}),l.a.createElement("input",{className:"btn btn-success mr-2",value:"Submit",onClick:this.handleSubmit,type:"button"}),l.a.createElement("input",{className:"mr-lg-1 btn bg-dark text-white btn-md",onClick:this.handleBack,type:"button",value:"Back"})))),l.a.createElement(w,{message:a,visible:m,type:i}))}}]),a}(n.Component),R=a(39),M=a.n(R),L=(a(62),a(22)),F=a.n(L),G=(a(88),function(e){Object(d.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleChangeEmail=function(e){n.setState({Email:e.target.value},(function(){n.state.Email&&n.state.Email!==n.prevEmail?n.setState({ShowConfirmEmail:!0}):n.setState({ShowConfirmEmail:!1})}))},n.handleChangePhone=function(e){n.setState({Phone:e.target.value},(function(){n.state.Phone&&n.state.Phone!==n.prevPhone?n.setState({ShowConfirmPhone:!0}):n.setState({ShowConfirmPhone:!1})}))},n.handleChangePassword=function(e){n.setState({Password:e.target.value},(function(){n.state.Password&&n.state.Password!==n.prevPassword?n.setState({ShowConfirmPassword:!0}):n.setState({ShowConfirmPassword:!1})}))},n.handleChangeDOB=function(e){n.setState({DOB:e},(function(){console.log(n.state.DOB)}))},n.handleSubmit=function(){if(""===n.state.FirstName||""===n.state.LastName||""===n.state.Password||"select"===n.state.Gender||""===n.state.DOB||""===n.state.Phone||""===n.state.Email)return n.setState({showAlert:!0,alertType:"danger"});var e={UserId:0,UserName:n.state.NewUserName,Email:n.state.Email,Phone:n.state.Phone,Password:n.state.Password};n.state.ShowConfirmPassword?e.ConfirmPassword=n.state.ConfirmPassword:e.ConfirmPassword=n.state.Password,n.state.ShowConfirmEmail?e.ConfirmEmail=n.state.ConfirmEmail:e.ConfirmEmail=n.state.Email,n.state.ShowConfirmPhone?e.ConfirmPhone=n.state.ConfirmPhone:e.ConfirmPhone=n.state.Phone;var t="/api/Account/Register",a=JSON.stringify(e);P(t,a,"POST").then((function(l){console.log(l),l.Message&&"SUCCESS"===l.Message?(t="/api/AspNetUserInfoes",a=JSON.stringify({Id:0,FirstName:n.state.FirstName,LastName:n.state.LastName,Gender:n.state.Gender,DOB:null!=n.state.DOB?F()(n.state.DOB).format("DD-MMM-YYYY"):"",UsersId:0,userInfoViewModel:e}),P(t,a,"POST").then((function(e){console.log(e),e.Message&&"SUCCESS"===e.Message?n.props.history.push("/Users"):n.setState({showAlert:!0,alertType:"danger",message:e})}))):n.setState({showAlert:!0,alertType:"danger",message:l})}))},n.handleBack=function(){return n.props.history.goBack()},n.state={NewUserName:"",Password:"",ConfirmPassword:"",Email:"",ConfirmEmail:"",FirstName:"",LastName:"",Gender:"",DOB:"",Phone:"",ConfirmPhone:"",ShowConfirmEmail:!1,ShowConfirmPhone:!1,ShowConfirmPassword:!1,showAlert:!1,alertType:"",message:""},n}return Object(m.a)(a,[{key:"render",value:function(){var e,t=this,a=[l.a.createElement("option",{key:"1",value:"Male"},"Male"),l.a.createElement("option",{key:"2",value:"Female"},"Female")],n=this.state,r=n.NewUserName,s=n.Password,c=n.ConfirmPassword,o=n.Email,m=n.FirstName,i=n.LastName,d=n.Gender,u=n.DOB,p=n.Phone,h=n.ConfirmPhone,E=n.ConfirmEmail,f=n.showAlert,v=n.alertType,N=n.message;return"success"===v?e="User Profile has been edited successfully.":"danger"===v&&(e=""!==N?N:"Please fill in all required fields."),l.a.createElement("div",null,l.a.createElement(g.c,{className:"border"},l.a.createElement("h4",{className:"mt-2 mb-5"},l.a.createElement("b",null,"Create - User Profile")),l.a.createElement("form",null,l.a.createElement("div",{className:"row  p-2"},l.a.createElement("div",{className:"col-4"},l.a.createElement("label",null,"Username")),l.a.createElement("input",{value:r,onChange:function(e){t.setState({NewUserName:e.target.value})},type:"text"})),l.a.createElement("div",{className:"row  p-2"},l.a.createElement("div",{className:"col-4"},l.a.createElement("label",null,"Password")),l.a.createElement("input",{className:"UserProfile",value:s,onChange:function(e){return t.handleChangePassword(e)},type:"password"})),l.a.createElement("div",{className:"row  p-2 "+(!0===this.state.ShowConfirmPassword?" ":"d-none")},l.a.createElement("div",{className:"col-4"},l.a.createElement("label",null,"Confirm Password")),l.a.createElement("input",{className:"UserProfile",value:c,onChange:function(e){t.setState({ConfirmPassword:e.target.value})},type:"password"})),l.a.createElement("div",{className:"row  p-2"},l.a.createElement("div",{className:"col-4"},l.a.createElement("label",null,"First Name")),l.a.createElement("input",{value:m,onChange:function(e){t.setState({FirstName:e.target.value})},type:"text"})),l.a.createElement("div",{className:"row  p-2"},l.a.createElement("div",{className:"col-4"},l.a.createElement("label",null,"Last Name")),l.a.createElement("input",{value:i,onChange:function(e){t.setState({LastName:e.target.value})},type:"text"})),l.a.createElement("div",{className:"row  p-2"},l.a.createElement("div",{className:"col-4"},l.a.createElement("label",null,"Email")),l.a.createElement("input",{value:o,onChange:function(e){return t.handleChangeEmail(e)},type:"text"})),l.a.createElement("div",{className:"row  p-2 "+(!0===this.state.ShowConfirmEmail?" ":"d-none")},l.a.createElement("div",{className:"col-4"},l.a.createElement("label",null,"Confirm Email")),l.a.createElement("input",{value:E,onChange:function(e){t.setState({ConfirmEmail:e.target.value})},type:"text"})),l.a.createElement("div",{className:"row  p-2"},l.a.createElement("div",{className:"col-4"},l.a.createElement("label",null,"Phone")),l.a.createElement("input",{value:p,onChange:function(e){return t.handleChangePhone(e)},type:"text"})),l.a.createElement("div",{className:"row  p-2 "+(!0===this.state.ShowConfirmPhone?" ":"d-none")},l.a.createElement("div",{className:"col-4"},l.a.createElement("label",null,"Confirm Phone")),l.a.createElement("input",{value:h,onChange:function(e){t.setState({ConfirmPhone:e.target.value})},type:"text"})),l.a.createElement("div",{className:"row  p-2"},l.a.createElement("div",{className:"col-4"},l.a.createElement("label",null,"Gender")),l.a.createElement("select",{value:d,onChange:function(e){t.setState({Gender:e.target.value})}},l.a.createElement("option",{key:"0",value:"select"},"Select"),a)),l.a.createElement("div",{className:"row  p-2"},l.a.createElement("div",{className:"col-4"},l.a.createElement("label",null,"Date of Birth")),l.a.createElement(M.a,{placeholderText:"dd/MM/yyyy",dateFormat:"dd/MM/yyyy",selected:u,onChange:this.handleChangeDOB})),l.a.createElement("div",{className:"row  p-2"},l.a.createElement("div",{className:"col-4"}),l.a.createElement("input",{className:"btn btn-success mr-1",value:"Save",onClick:function(){return t.handleSubmit()},type:"button"}),l.a.createElement("input",{className:"mr-lg-1 btn bg-dark text-white btn-md",onClick:this.handleBack,type:"button",value:"Back"})))),l.a.createElement(w,{message:e,visible:f,type:v}))}}]),a}(n.Component)),J=function(e){Object(d.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){var e=0===n.id?"/api/Account/UserInfo":"/api/Account/UserInfo/"+n.id;P(e,"","GET").then((function(t){t.UserId&&n.setState({UserName:t.UserName?t.UserName:"",UserId:t.UserId?t.UserId:"",Email:t.Email?t.Email:"",Phone:t.Phone?t.Phone:""},(function(){e=0===n.id?"/api/AspNetUserInfoes/"+n.state.UserId:"/api/AspNetUserInfoes/"+n.id,P(e,"","GET").then((function(e){n.prevEmail=n.state.Email,n.prevPhone=n.state.Phone,e&&n.setState({Id:e.Id,FirstName:e.FirstName,LastName:e.LastName,Gender:e.Gender,DOB:null!==e.DOB?new Date(e.DOB):""})}))}))}))},n.handleChangeEmail=function(e){n.setState({Email:e.target.value},(function(){n.state.Email&&n.state.Email!==n.prevEmail?n.setState({ShowConfirmEmail:!0}):n.setState({ShowConfirmEmail:!1})}))},n.handleChangePhone=function(e){n.setState({Phone:e.target.value},(function(){n.state.Phone&&n.state.Phone!==n.prevPhone?n.setState({ShowConfirmPhone:!0}):n.setState({ShowConfirmPhone:!1})}))},n.handleChangeDOB=function(e){n.setState({DOB:e},(function(){console.log(n.state.DOB)}))},n.handleSubmit=function(){if(""===n.state.FirstName||""===n.state.LastName||"select"===n.state.Gender||""===n.state.DOB||""===n.state.Phone||""===n.state.Email)return n.setState({showAlert:!0,alertType:"danger"});var e={UserId:n.state.UserId,UserName:n.state.UserName,Email:n.state.Email,Phone:n.state.Phone};n.state.ShowConfirmEmail?e.ConfirmEmail=n.state.ConfirmEmail:e.ConfirmEmail=n.state.Email,n.state.ShowConfirmPhone?e.ConfirmPhone=n.state.ConfirmPhone:e.ConfirmPhone=n.state.Phone;var t="/api/AspNetUserInfoes/"+n.state.UserId,a=JSON.stringify({Id:n.state.Id,FirstName:n.state.FirstName,LastName:n.state.LastName,Gender:n.state.Gender,DOB:null!=n.state.DOB?F()(n.state.DOB).format("DD-MMM-YYYY"):"",UsersId:n.state.UserId,userInfoViewModel:e});P(t,a,"PUT").then((function(e){if(console.log(e),e.Message&&"SUCCESS"===e.Message)return n.props.history.goBack();n.setState({showAlert:!0,alertType:"danger",message:e})}))},n.handleBack=function(){return n.props.history.goBack()},n.state={UserId:"",Id:"",UserName:"",Email:"",ConfirmEmail:"",FirstName:"",LastName:"",Gender:"",DOB:"",Phone:"",ConfirmPhone:"",ShowConfirmEmail:!1,ShowConfirmPhone:!1,showAlert:!1,alertType:"",message:""},n.prevEmail="",n.prevPhone="",n.id=0,n}return Object(m.a)(a,[{key:"render",value:function(){var e=this,t=[l.a.createElement("option",{key:"1",value:"Male"},"Male"),l.a.createElement("option",{key:"2",value:"Female"},"Female")];this.props.location&&this.props.location.data&&this.props.location.data.UsersId&&(this.id=this.props.location.data.UsersId);var a,n=this.state,r=n.Email,s=n.FirstName,c=n.LastName,o=n.Gender,m=n.DOB,i=n.Phone,d=n.ConfirmPhone,u=n.ConfirmEmail,p=n.showAlert,h=n.alertType,E=n.message;return"success"===h?a="User Profile has been edited successfully.":"danger"===h&&(a=""!==E?E:"Please fill in all required fields."),l.a.createElement("div",null,l.a.createElement(g.c,{className:"border"},l.a.createElement("h4",{className:"mt-2 mb-5"},l.a.createElement("b",null,"Edit - User Profile")),l.a.createElement("form",null,l.a.createElement("div",{className:"row  p-2"},l.a.createElement("div",{className:"col-4"},l.a.createElement("label",null,"Username")),l.a.createElement("label",{className:"mt-1"},this.state.UserName)),l.a.createElement("div",{className:"row  p-2"},l.a.createElement("div",{className:"col-4"},l.a.createElement("label",null,"First Name")),l.a.createElement("input",{value:s,onChange:function(t){e.setState({FirstName:t.target.value})},type:"text"})),l.a.createElement("div",{className:"row  p-2"},l.a.createElement("div",{className:"col-4"},l.a.createElement("label",null,"Last Name")),l.a.createElement("input",{value:c,onChange:function(t){e.setState({LastName:t.target.value})},type:"text"})),l.a.createElement("div",{className:"row  p-2"},l.a.createElement("div",{className:"col-4"},l.a.createElement("label",null,"Email")),l.a.createElement("input",{value:r,onChange:function(t){return e.handleChangeEmail(t)},type:"text"})),l.a.createElement("div",{className:"row  p-2 "+(!0===this.state.ShowConfirmEmail?" ":"d-none")},l.a.createElement("div",{className:"col-4"},l.a.createElement("label",null,"Confirm Email")),l.a.createElement("input",{value:u,onChange:function(t){e.setState({ConfirmEmail:t.target.value})},type:"text"})),l.a.createElement("div",{className:"row  p-2"},l.a.createElement("div",{className:"col-4"},l.a.createElement("label",null,"Phone")),l.a.createElement("input",{value:i,onChange:function(t){return e.handleChangePhone(t)},type:"text"})),l.a.createElement("div",{className:"row  p-2 "+(!0===this.state.ShowConfirmPhone?" ":"d-none")},l.a.createElement("div",{className:"col-4"},l.a.createElement("label",null,"Confirm Phone")),l.a.createElement("input",{value:d,onChange:function(t){e.setState({ConfirmPhone:t.target.value})},type:"text"})),l.a.createElement("div",{className:"row  p-2"},l.a.createElement("div",{className:"col-4"},l.a.createElement("label",null,"Gender")),l.a.createElement("select",{value:o,onChange:function(t){e.setState({Gender:t.target.value})}},l.a.createElement("option",{key:"0",value:"select"},"Select"),t)),l.a.createElement("div",{className:"row  p-2"},l.a.createElement("div",{className:"col-4"},l.a.createElement("label",null,"Date of Birth")),l.a.createElement(M.a,{placeholderText:"dd/MM/yyyy",dateFormat:"dd/MM/yyyy",selected:m,onChange:this.handleChangeDOB})),l.a.createElement("div",{className:"row  p-2"},l.a.createElement("div",{className:"col-4"}),l.a.createElement("input",{className:"btn btn-success mr-1",value:"Save",onClick:function(){return e.handleSubmit()},type:"button"}),l.a.createElement("input",{className:"mr-lg-1 btn bg-dark text-white btn-md",onClick:this.handleBack,type:"button",value:"Back"})))),l.a.createElement(w,{message:a,visible:p,type:h}))}}]),a}(n.Component),Y=a(70),H=(a(146),function(e){return l.a.createElement(v.a,Object.assign({to:e.to},e),l.a.createElement("i",{className:"fa ".concat(e.icon)}),e.label)}),W=function(e){return l.a.createElement("i",{className:(e.className,{"fa-chevron-left":!e.expanded,"fa-chevron-down":e.expanded})})},q=function(e){return l.a.createElement("i",{className:e.className})},V=function(e){Object(d.a)(a,e);var t=Object(i.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props.menuItems;return l.a.createElement("div",{className:"hidesidenav"},l.a.createElement(Y.SideNav,{items:e,linkComponent:H,chevronComponent:W,iconComponent:q,style:{minHeight:"200px"}}))}}]),a}(n.Component),_=function(e){Object(d.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).menuItems=[{id:1,label:"Create User",link:"/CreateUser"},{id:2,label:"Change Password",link:"/ChangePassword"}],n.componentDidMount=function(){var e="/api/Account/UserInfo";P(e,"","GET").then((function(t){t.UserId&&n.setState({UserId:t.UserId,Email:t.Email,Phone:t.Phone},(function(){e="/api/AspNetUserInfoes/"+n.state.UserId,P(e,"","GET").then((function(e){console.log(e),e&&n.setState({FirstName:e.FirstName,LastName:e.LastName,Gender:e.Gender,DOB:null!=e.DOB?F()(e.DOB).format("DD-MMM-YYYY"):""})}))}))}))},n.handleEditUser=function(){n.props.history.push("/EditUserProfile")},n.state={UserId:"",UserName:localStorage.getItem("myUserName"),Email:"",FirstName:"",LastName:"",Gender:"",DOB:"",Phone:""},n}return Object(m.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-2 padding-left-0 padding-right-5"},l.a.createElement(V,{menuItems:this.menuItems})),l.a.createElement("div",{className:"col-8"},l.a.createElement(g.c,{fluid:!0,className:"border"},l.a.createElement("div",{className:"row  p-2 nowrap"},l.a.createElement("h4",{className:"mt-2 mb-5 col-11"},l.a.createElement("b",null,"User Profile")),l.a.createElement("div",{className:"col-1"},l.a.createElement("button",{type:"button",onClick:this.handleEditUser,className:"btn btn-success add-new mt-1 float-rt"},"Edit"))),l.a.createElement("form",null,l.a.createElement("div",{className:"row  p-2"},l.a.createElement("div",{className:"col-4"},l.a.createElement("label",null,"Username")),l.a.createElement("label",{className:"mt-1"},this.state.UserName)),l.a.createElement("div",{className:"row  p-2"},l.a.createElement("div",{className:"col-4"},l.a.createElement("label",null,"Name")),l.a.createElement("label",{className:"mt-1"},this.state.FirstName," ",this.state.LastName)),l.a.createElement("div",{className:"row  p-2"},l.a.createElement("div",{className:"col-4"},l.a.createElement("label",null,"Email")),l.a.createElement("label",{className:"mt-1"},this.state.Email)),l.a.createElement("div",{className:"row  p-2"},l.a.createElement("div",{className:"col-4"},l.a.createElement("label",null,"Phone")),l.a.createElement("label",{className:"mt-1"},this.state.Phone)),l.a.createElement("div",{className:"row  p-2"},l.a.createElement("div",{className:"col-4"},l.a.createElement("label",null,"Gender")),l.a.createElement("label",{className:"mt-1"},this.state.Gender)),l.a.createElement("div",{className:"row  p-2"},l.a.createElement("div",{className:"col-4"},l.a.createElement("label",null,"Date of Birth")),l.a.createElement("label",{className:"mt-1"},this.state.DOB)),l.a.createElement("div",{className:"row  p-2"},l.a.createElement("div",{className:"col-4"}))))))}}]),a}(n.Component),z=function(e){Object(d.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){P("/api/AspNetUserInfoes","","GET").then((function(e){var t=e.length,a=parseInt(t/n.state.pageRows,10),l=parseInt(t%n.state.pageRows,10);l>0&&a++,n.setState({userData:e,keys:Object.keys(e[0]),noOfPages:a,totalRows:t,lastPageRows:l})}))},n.renderTableData=function(e,t){return"object"===typeof n.state.userData&&n.state.userData&&n.state.userData.length?n.state.userData.slice(e,e+t).map((function(e,t){var a=e.FirstName,n=e.LastName,r=e.Gender,s=e.DOB,c=e.UsersId;return l.a.createElement("tr",{key:t},l.a.createElement("td",null,a+" "+n),l.a.createElement("td",null,r),l.a.createElement("td",null,null!=s?F()(s).format("DD-MMM-YYYY"):""),l.a.createElement("td",{className:"customWidth100"},l.a.createElement(v.a,{className:"edit",title:"Edit",to:{pathname:"/EditUserProfile",data:{UsersId:c}},"data-toggle":"tooltip"},l.a.createElement("i",{className:"material-icons"},"\ue254")),"  ",l.a.createElement(v.a,{className:"changePassword",title:"Change Password",to:{pathname:"/ResetPassword",data:{UsersId:c}},"data-toggle":"tooltip"},l.a.createElement("i",{className:"material-icons"},"vpn_key"))))})):null},n.handleChangePage=function(e,t){e.preventDefault();var a=n.state.pageRows;t===n.state.noOfPages?n.setState({firstRow:a*(t-1),currentPageRows:n.state.lastPageRows,activePage:t}):n.setState({firstRow:a*(t-1),currentPageRows:a,activePage:t})},n.renderPagination=function(){for(var e=[],t=function(t){e.push(l.a.createElement("li",{key:t,className:"page-item "+(n.state.activePage===t?"active":"")},l.a.createElement("a",{onClick:function(e){return n.handleChangePage(e,t)},href:"/",className:"page-link"},t)))},a=1;a<=n.state.noOfPages;a++)t(a);return e},n.handleForwardPage=function(e){e.preventDefault(),e.persist(),n.state.activePage!==n.state.noOfPages&&n.setState((function(e){return{activePage:e.activePage+1}}),(function(){n.handleChangePage(e,n.state.activePage)}))},n.handleBackwardPage=function(e){e.preventDefault(),e.persist(),1!==n.state.activePage&&n.setState((function(e){return{activePage:e.activePage-1}}),(function(){n.handleChangePage(e,n.state.activePage)}))},n.handleAddUser=function(){n.props.history.push("/CreateUser")},n.state={userData:[],keys:[],noOfPages:0,firstRow:0,totalRows:0,currentPageRows:10,pageRows:10,lastPageRows:10,activePage:1},n}return Object(m.a)(a,[{key:"renderTableHeader",value:function(){var e=this.state.keys;return""===e[e.length-1]&&e.pop(),e.push.apply(e,[""]),e.map((function(e,t){return""===e?l.a.createElement("th",{key:t}):"FIRSTNAME"!==e.toUpperCase()&&"LASTNAME"!==e.toUpperCase()&&"USERINFOVIEWMODEL"!==e.toUpperCase()&&"USERSID"!==e.toUpperCase()&&"ID"!==e.toUpperCase()?l.a.createElement("th",{key:t},e.toUpperCase()):"FIRSTNAME"===e.toUpperCase()?l.a.createElement("th",{key:t},"NAME"):null}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.totalRows,n=t.currentPageRows,r=t.firstRow,s=t.activePage,c=t.noOfPages;return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"table-wrapper"},l.a.createElement("div",{className:"table-title"},l.a.createElement("div",{className:"row nowrap"},l.a.createElement("div",{className:"col-sm-8"},l.a.createElement("h2",null,"Users ",l.a.createElement("b",null,"Detail"))),l.a.createElement("div",{className:"col-sm-4"},l.a.createElement("button",{type:"button",onClick:this.handleAddUser,className:"btn btn-success add-new"},l.a.createElement("i",{className:"fa fa-plus"})," Add New")))),l.a.createElement("table",{className:"table table-striped table-hover table-bordered tablemobileoverflowx"},l.a.createElement("thead",null,l.a.createElement("tr",{className:"bg-secondary"},this.renderTableHeader())),l.a.createElement("tbody",null,this.renderTableData(r,n))),l.a.createElement("div",{className:"clearfix"},l.a.createElement("div",{className:"hint-text"},"Showing ",l.a.createElement("b",null,a>n?n:a)," out of ",l.a.createElement("b",null,a)," entries"),l.a.createElement("ul",{className:"pagination"},l.a.createElement("li",{className:"page-item "+(1===s?"disabled":"")},l.a.createElement("a",{onClick:function(t){return e.handleBackwardPage(t)},href:"/",className:"page-link"},l.a.createElement("i",{className:"fa fa-angle-double-left"}))),this.renderPagination(),l.a.createElement("li",{className:"page-item "+(s===c?"disabled":"")},l.a.createElement("a",{onClick:function(t){return e.handleForwardPage(t)},href:"/",className:"page-link"},l.a.createElement("i",{className:"fa fa-angle-double-right"})))))))}}]),a}(n.Component),Z=function(e){Object(d.a)(a,e);var t=Object(i.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return l.a.createElement(b,null,l.a.createElement(u.a,null,l.a.createElement(p.a,{exact:!0,path:"/",component:j}),l.a.createElement(p.a,{exact:!0,path:"/Employees",component:E(T)}),l.a.createElement(p.a,{exact:!0,path:"/Departments",component:E(C)}),l.a.createElement(p.a,{exact:!0,path:"/AddDepartment",component:E(S)}),l.a.createElement(p.a,{exact:!0,path:"/EditDepartment",component:E(O)}),l.a.createElement(p.a,{exact:!0,path:"/AddEmployee",component:E(D)}),l.a.createElement(p.a,{exact:!0,path:"/EditEmployee",component:E(U)}),l.a.createElement(p.a,{exact:!0,path:"/UserProfile",component:E(_)}),l.a.createElement(p.a,{exact:!0,path:"/ChangePassword",component:E(B)}),l.a.createElement(p.a,{exact:!0,path:"/ResetPassword",component:E(B)}),l.a.createElement(p.a,{exact:!0,path:"/EditUserProfile",component:E(J)}),l.a.createElement(p.a,{exact:!0,path:"/CreateUser",component:E(G)}),l.a.createElement(p.a,{exact:!0,path:"/Users",component:E(z)}),l.a.createElement(p.a,{path:"/*",component:x})))}}]),a}(n.Component);Z.displayName=Z.name;var $=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function K(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var Q=a(71),X=a.n(Q),ee=document.getElementsByTagName("base")[0].getAttribute("href"),te=document.getElementById("root"),ae=function(e){return Object(y.usePromiseTracker)().promiseInProgress&&l.a.createElement("div",{style:{width:"100%",height:"70",display:"flex",justifyContent:"center",alignItems:"center"}},l.a.createElement(X.a,{type:"ThreeDots",color:"#2BAD60",height:70,width:70}),"    ")};s.a.render(l.a.createElement(c.a,{basename:ee},l.a.createElement("div",null,l.a.createElement(Z,null),l.a.createElement(ae,null))),te),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");$?function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):K(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e):K(e)}))}}()},47:function(e,t,a){},72:function(e,t,a){e.exports=a(166)},78:function(e,t,a){},82:function(e,t,a){},86:function(e,t,a){},88:function(e,t,a){}},[[72,1,2]]]);
//# sourceMappingURL=main.5d9d15b7.chunk.js.map