(this["webpackJsonpemployee-portal"]=this["webpackJsonpemployee-portal"]||[]).push([[0],{142:function(e,t,a){},162:function(e,t,a){"use strict";a.r(t);a(71);var n=a(1),l=a.n(n),r=a(21),s=a.n(r),c=a(174),o=a(6),m=a(7),i=a(9),u=a(8),d=a(10),p=a(171),E=a(172),h=a(11),g=a(33),f=a(170),v=(a(76),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleSignOut=function(){localStorage.removeItem("myToken"),console.log("session expired")},a.toggleNavbar=a.toggleNavbar.bind(Object(g.a)(a)),a.state={collapsed:!0},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"toggleNavbar",value:function(){this.setState({collapsed:!this.state.collapsed})}},{key:"render",value:function(){var e,t;return localStorage.getItem("myToken")&&(t=l.a.createElement(h.e,{tag:f.a,type:"button",onClick:this.handleSignOut,to:"/",className:"btn btn-danger button-signout margin-rt10 float-rt"},"Sign Out"),e=l.a.createElement(h.e,{tag:f.a,className:"text-white float-rt mt-1 margin-rt10",to:"/UserProfile"},localStorage.getItem("myUserName"))),l.a.createElement("header",null,l.a.createElement(h.f,{className:"theme1 navbar-expand-sm navbar-toggleable-sm ng-white border-bottom box-shadow mb-3",light:!0},l.a.createElement(h.c,null,l.a.createElement(h.g,{className:"text-black mb-4 mt-4 wrdbreak",tag:f.a,to:"/"},l.a.createElement("h3",null,l.a.createElement("b",null,"Employee Portal"))),l.a.createElement(h.h,{onClick:this.toggleNavbar,className:"mr-2"}),l.a.createElement(h.b,{className:"d-sm-inline-flex flex-sm-row-reverse",isOpen:!this.state.collapsed,navbar:!0},l.a.createElement("ul",{className:"navbar-nav flex-grow ml-1"},l.a.createElement(h.d,null,l.a.createElement(h.e,{tag:f.a,className:"text-black",to:"/"},l.a.createElement("b",null,"Home"))),l.a.createElement(h.d,null,l.a.createElement(h.e,{tag:f.a,className:"text-black",to:"/Employees"},l.a.createElement("b",null,"Employees"))),l.a.createElement(h.d,null,l.a.createElement(h.e,{tag:f.a,className:"text-black",to:"/Departments"},l.a.createElement("b",null,"Departments"))),l.a.createElement(h.d,{className:"d-md-none"},l.a.createElement("div",null,l.a.createElement("small",null,e))),l.a.createElement(h.d,{className:"d-md-none"},l.a.createElement("div",null,l.a.createElement("small",null,t)))))),l.a.createElement("div",{className:"d-none d-md-block d-lg-block  d-xl-block"},l.a.createElement("small",null,e)),l.a.createElement("div",{className:"d-none d-md-block d-lg-block  d-xl-block"},l.a.createElement("small",null,t))))}}]),t}(n.Component));v.displayName=v.name;var b=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(v,null),l.a.createElement(h.c,null,this.props.children))}}]),t}(n.Component);b.displayName=b.name;a(79);var N=a(34);var y=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"POST",n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],l="Bearer "+localStorage.getItem("myToken"),r={"Content-Type":"application/json",Accept:"application/json","Access-Control-Allow-Origin":"*"};n&&(r.Authorization=l);var s={method:a,withCredentials:!0,headers:r};return"POST"!==a&&"PUT"!==a||(s.body=t),Object(N.trackPromise)(fetch("http://employee.service.com"+e,s).then((function(e){if(e.ok)return e.json();var t=e.text();throw"UNAUTHORIZED"===e.statusText.toUpperCase()&&(alert("Session has expired."),localStorage.removeItem("myToken")),t})).then((function(e){return e}),(function(e){return"TypeError: Failed to fetch"===e.toString()&&(alert("Session has expired."),localStorage.removeItem("myToken")),e})))},w=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleClick=function(){var e="username="+a.state.Username+"&password="+a.state.Password+"&grant_type=password";y("/token",e,"POST",!1).then((function(e){console.log("UserName:"+e.userName),a.setState({token:e.access_token,loggedInUser:e.userName},(function(){localStorage.setItem("myToken",a.state.token),localStorage.setItem("myUserName",a.state.loggedInUser),a.props.history.push("/Employees")}))}))},a.state={Username:"",Password:"",token:localStorage.getItem("myToken")||"",loggedInUser:""},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return localStorage.getItem("myToken")?l.a.createElement("div",{className:"row justify-content-md-center"},"Welcome to the Employee portal."):l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-sm-9 col-md-7 col-lg-5 mx-auto"},l.a.createElement("div",{className:"card card-signin my-5"},l.a.createElement("div",{className:"card-body"},l.a.createElement("h5",{className:"card-title text-center"},"Sign In"),l.a.createElement("div",{className:"form-label-group"},l.a.createElement("input",{type:"email",className:"form-control",placeholder:"Username",value:this.state.Username,onChange:function(t){e.setState({Username:t.target.value})}})),l.a.createElement("div",{className:"form-label-group"},l.a.createElement("input",{type:"password",id:"inputPassword",className:"form-control",value:this.state.Password,onChange:function(t){e.setState({Password:t.target.value})},placeholder:"Password"})),l.a.createElement("div",{className:"custom-control custom-checkbox mb-3"},l.a.createElement("input",{type:"checkbox",className:"custom-control-input",id:"customCheck1"}),l.a.createElement("label",{className:"custom-control-label",htmlFor:"customCheck1"},"Remember password")),l.a.createElement("button",{className:"btn btn-lg btn-success btn-block text-uppercase",value:"Submit",onClick:this.handleClick,type:"button"},"Sign in"))))))}}]),t}(n.Component);w.displayName=w.name;var P=a(173),S=(a(60),a(164)),k=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){y("/api/Employees","","GET").then((function(e){var t=e.length,n=parseInt(t/a.state.pageRows,10),l=parseInt(t%a.state.pageRows,10);l>0&&n++,a.setState({employeeData:e,keys:Object.keys(e[0]),noOfPages:n,totalRows:t,lastPageRows:l})}))},a.renderTableData=function(e,t){return"object"===typeof a.state.employeeData&&a.state.employeeData&&a.state.employeeData.length?a.state.employeeData.slice(e,e+t).map((function(e,t){var a=e.ID,n=e.FirstName,r=e.LastName,s=e.Gender,c=e.DepartmentName,o=e.DepartmentLocation,m=e.JobTitle,i=e.JoiningDate,u=e.InService;return l.a.createElement("tr",{key:t},l.a.createElement("td",null,a),l.a.createElement("td",null,n+" "+r),l.a.createElement("td",null,s),l.a.createElement("td",null,c),l.a.createElement("td",null,o),l.a.createElement("td",null,null!==i?Object(S.default)(new Date(i),"dd MMM yyyy"):""),l.a.createElement("td",null,!0===u?"Yes":"No"),l.a.createElement("td",null,m),l.a.createElement("td",null,l.a.createElement(f.a,{className:"edit",title:"Edit",to:{pathname:"/EditEmployee",data:{ID:a}},"data-toggle":"tooltip"},l.a.createElement("i",{className:"material-icons"},"\ue254"))))})):null},a.renderTableHeader=function(){var e=a.state.keys;return console.log(e),""===e[e.length-1]&&e.pop(),e.push.apply(e,[""]),e.map((function(e,t){return""===e?l.a.createElement("th",{key:t}):"DEPARTMENTNAME"===e.toUpperCase()?l.a.createElement("th",{key:t},"DEPARTMENT"):"DEPARTMENTLOCATION"===e.toUpperCase()?l.a.createElement("th",{key:t},"LOCATION"):"FIRSTNAME"!==e.toUpperCase()&&"LASTNAME"!==e.toUpperCase()&&"DEPARTMENTID"!==e.toUpperCase()&&"SALARY"!==e.toUpperCase()&&"LEAVINGDATE"!==e.toUpperCase()?l.a.createElement("th",{key:t},e.toUpperCase()):"FIRSTNAME"===e.toUpperCase()?l.a.createElement("th",{key:t},"NAME"):null}))},a.handleChangePage=function(e,t){e.preventDefault();var n=a.state.pageRows;t===a.state.noOfPages?a.setState({firstRow:n*(t-1),currentPageRows:a.state.lastPageRows,activePage:t}):a.setState({firstRow:n*(t-1),currentPageRows:n,activePage:t})},a.renderPagination=function(){for(var e=[],t=function(t){e.push(l.a.createElement("li",{key:t,className:"page-item "+(a.state.activePage===t?"active":"")},l.a.createElement("a",{onClick:function(e){return a.handleChangePage(e,t)},href:"/",className:"page-link"},t)))},n=1;n<=a.state.noOfPages;n++)t(n);return e},a.handleForwardPage=function(e){e.preventDefault(),e.persist(),a.state.activePage!==a.state.noOfPages&&a.setState((function(e){return{activePage:e.activePage+1}}),(function(){a.handleChangePage(e,a.state.activePage)}))},a.handleBackwardPage=function(e){e.preventDefault(),e.persist(),1!==a.state.activePage&&a.setState((function(e){return{activePage:e.activePage-1}}),(function(){a.handleChangePage(e,a.state.activePage)}))},a.handleAddEmployee=function(){a.props.history.push("/AddEmployee")},a.state={token:localStorage.getItem("myToken")||"",employeeData:[],keys:[],noOfPages:0,firstRow:0,totalRows:0,currentPageRows:10,pageRows:10,lastPageRows:10,activePage:1},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return localStorage.getItem("myToken")?l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"table-wrapper"},l.a.createElement("div",{className:"table-title"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-sm-8"},l.a.createElement("h2",null,"Employee ",l.a.createElement("b",null,"Details"))),l.a.createElement("div",{className:"col-sm-4"},l.a.createElement("button",{type:"button",onClick:this.handleAddEmployee,className:"btn btn-success add-new"},l.a.createElement("i",{className:"fa fa-plus"})," Add New")))),l.a.createElement("table",{className:"table table-striped table-hover table-bordered border-0"},l.a.createElement("thead",null,l.a.createElement("tr",{className:"bg-secondary"},this.renderTableHeader())),l.a.createElement("tbody",null,this.renderTableData(this.state.firstRow,this.state.currentPageRows))),l.a.createElement("div",{className:"clearfix"},l.a.createElement("div",{className:"hint-text"},"Showing ",l.a.createElement("b",null,this.state.currentPageRows)," out of ",l.a.createElement("b",null,this.state.totalRows)," entries"),l.a.createElement("ul",{className:"pagination"},l.a.createElement("li",{className:"page-item "+(1===this.state.activePage?"disabled":"")},l.a.createElement("a",{onClick:function(t){return e.handleBackwardPage(t)},href:"/",className:"page-link"},l.a.createElement("i",{className:"fa fa-angle-double-left"}))),this.renderPagination(),l.a.createElement("li",{className:"page-item "+(this.state.activePage===this.state.noOfPages?"disabled":"")},l.a.createElement("a",{onClick:function(t){return e.handleForwardPage(t)},href:"/",className:"page-link"},l.a.createElement("i",{className:"fa fa-angle-double-right"}))))))):l.a.createElement(P.a,{to:"/"})}}]),t}(n.Component),O=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){y("/api/Departments","","GET").then((function(e){var t=e.length,n=parseInt(t/a.state.pageRows,10),l=parseInt(t%a.state.pageRows,10);l>0&&n++,a.setState({departmentData:e,keys:Object.keys(e[0]),noOfPages:n,totalRows:t,lastPageRows:l})}))},a.renderTableData=function(e,t){return"object"===typeof a.state.departmentData&&a.state.departmentData&&a.state.departmentData.length?a.state.departmentData.slice(e,e+t).map((function(e,t){var a=e.ID,n=e.Name,r=e.Location;return l.a.createElement("tr",{key:t},l.a.createElement("td",null,a),l.a.createElement("td",null,n),l.a.createElement("td",null,r),l.a.createElement("td",null,l.a.createElement(f.a,{className:"edit",title:"Edit",to:{pathname:"/EditDepartment",data:{ID:a}},"data-toggle":"tooltip"},l.a.createElement("i",{className:"material-icons"},"\ue254"))))})):null},a.handleChangePage=function(e,t){e.preventDefault();var n=a.state.pageRows;t===a.state.noOfPages?a.setState({firstRow:n*(t-1),currentPageRows:a.state.lastPageRows,activePage:t}):a.setState({firstRow:n*(t-1),currentPageRows:n,activePage:t})},a.renderPagination=function(){for(var e=[],t=function(t){e.push(l.a.createElement("li",{key:t,className:"page-item "+(a.state.activePage===t?"active":"")},l.a.createElement("a",{onClick:function(e){return a.handleChangePage(e,t)},href:"/",className:"page-link"},t)))},n=1;n<=a.state.noOfPages;n++)t(n);return e},a.handleForwardPage=function(e){e.preventDefault(),e.persist(),a.state.activePage!==a.state.noOfPages&&a.setState((function(e){return{activePage:e.activePage+1}}),(function(){a.handleChangePage(e,a.state.activePage)}))},a.handleBackwardPage=function(e){e.preventDefault(),e.persist(),1!==a.state.activePage&&a.setState((function(e){return{activePage:e.activePage-1}}),(function(){a.handleChangePage(e,a.state.activePage)}))},a.handleAddDepartment=function(){a.props.history.push("/AddDepartment")},a.state={token:localStorage.getItem("myToken")||"",departmentData:[],keys:[],noOfPages:0,firstRow:0,totalRows:0,currentPageRows:10,pageRows:10,lastPageRows:10,activePage:1},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"renderTableHeader",value:function(){var e=this.state.keys;return""===e[e.length-1]&&e.pop(),e.push.apply(e,[""]),e.map((function(e,t){return""===e?l.a.createElement("th",{key:t}):l.a.createElement("th",{key:t},e.toUpperCase())}))}},{key:"render",value:function(){var e=this;return localStorage.getItem("myToken")?l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"table-wrapper"},l.a.createElement("div",{className:"table-title"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-sm-8"},l.a.createElement("h2",null,"Department ",l.a.createElement("b",null,"Details"))),l.a.createElement("div",{className:"col-sm-4"},l.a.createElement("button",{type:"button",onClick:this.handleAddDepartment,className:"btn btn-success add-new"},l.a.createElement("i",{className:"fa fa-plus"})," Add New")))),l.a.createElement("table",{className:"table table-striped table-hover table-bordered"},l.a.createElement("thead",null,l.a.createElement("tr",{className:"bg-secondary"},this.renderTableHeader())),l.a.createElement("tbody",null,this.renderTableData(this.state.firstRow,this.state.currentPageRows))),l.a.createElement("div",{className:"clearfix"},l.a.createElement("div",{className:"hint-text"},"Showing ",l.a.createElement("b",null,this.state.currentPageRows)," out of ",l.a.createElement("b",null,this.state.totalRows)," entries"),l.a.createElement("ul",{className:"pagination"},l.a.createElement("li",{className:"page-item "+(1===this.state.activePage?"disabled":"")},l.a.createElement("a",{onClick:function(t){return e.handleBackwardPage(t)},href:"/",className:"page-link"},l.a.createElement("i",{className:"fa fa-angle-double-left"}))),this.renderPagination(),l.a.createElement("li",{className:"page-item "+(this.state.activePage===this.state.noOfPages?"disabled":"")},l.a.createElement("a",{onClick:function(t){return e.handleForwardPage(t)},href:"/",className:"page-link"},l.a.createElement("i",{className:"fa fa-angle-double-right"}))))))):l.a.createElement(P.a,{to:"/"})}}]),t}(n.Component);var C=function(e){var t,a=e.message,n=e.type;return e.visible||(t="d-none"),l.a.createElement("div",{className:t},l.a.createElement("div",{className:"col-lg-2"}),l.a.createElement("div",{className:"col-sm-5 col-5 col-md-5 col-lg-8 margin-top-75"},l.a.createElement(h.a,{className:"txt-center opacity-100",color:n}," ",a," ")))},T=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleSubmit=function(){if(""===a.state.Name||""===a.state.Location)return a.setState({showAlert:!0,alertType:"danger"});var e=JSON.stringify({ID:0,Name:a.state.Name,Location:a.state.Location});y("/api/Departments",e,"POST").then((function(e){a.setState({showAlert:!0,alertType:"success",Name:"",Location:""})}))},a.handleBack=function(){return a.props.history.goBack()},a.state={Name:"",Location:"",token:localStorage.getItem("myToken")||"",showAlert:!1,alertType:""},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.Name,n=t.Location,r=t.showAlert,s=t.alertType;if(!localStorage.getItem("myToken"))return l.a.createElement(P.a,{to:"/"});var c;return"success"===s?c="Department has been added successfully.":"danger"===s&&(c="Name and Location fields cannot be empty."),l.a.createElement("div",null,l.a.createElement("div",{className:"container border"},l.a.createElement("h4",{className:"mt-2 mb-5"},l.a.createElement("b",null,"Add - Department")),l.a.createElement("form",null,l.a.createElement("div",{className:"row  p-2"},l.a.createElement("div",{className:"col-4"},l.a.createElement("label",null,"Department name")),l.a.createElement("input",{value:a,onChange:function(t){e.setState({Name:t.target.value,successAlert:!1,errorAlert:!1})},className:"mt-1",type:"text"})),l.a.createElement("div",{className:"row  p-2"},l.a.createElement("div",{className:"col-4"},l.a.createElement("label",null,"Location")),l.a.createElement("input",{value:n,onChange:function(t){e.setState({Location:t.target.value,successAlert:!1,errorAlert:!1})},className:"mt-1",type:"text"})),l.a.createElement("div",{className:"row p-2"},l.a.createElement("div",{className:"col-4"}),l.a.createElement("input",{className:"btn btn-success mr-1",onClick:this.handleSubmit,type:"button",value:"Save"}),l.a.createElement("input",{className:"mr-lg-1 btn bg-dark text-white btn-md",onClick:this.handleBack,type:"button",value:"Back"})))),l.a.createElement(C,{message:c,visible:r,type:s}))}}]),t}(n.Component),D=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){if(0!==a.id){var e="/api/Departments/"+a.id;y(e,"","GET").then((function(e){a.setState({Name:e.Name,Location:e.Location})}))}},a.handleSubmit=function(){if(a.state.readOnly)a.setState({readOnly:!1,showAlert:!1,alertType:""});else{if(""===a.state.Name||""===a.state.Location)return a.setState({showAlert:!0,alertType:"danger"});var e="/api/Departments/"+a.id,t=JSON.stringify({ID:a.id,Name:a.state.Name,Location:a.state.Location});y(e,t,"PUT").then((function(e){if(!e.Message||"SUCCESS"!==e.Message.toUpperCase())return a.setState({showAlert:!0,alertType:"danger",message:"Some error occured, please try again."});a.setState({showAlert:!0,alertType:"success",readOnly:!0})}))}},a.handleBack=function(){return a.props.history.goBack()},a.state={Name:"",Location:"",showAlert:!1,alertType:"",message:"",readOnly:!1},a.id=0,a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.Name,n=t.Location,r=t.showAlert,s=t.alertType,c=t.message,o=t.readOnly;if(!localStorage.getItem("myToken"))return l.a.createElement(P.a,{to:"/"});this.props.location&&this.props.location.data&&this.props.location.data.ID&&(this.id=this.props.location.data.ID);var m;return"success"===s?m="Department has been edited successfully.":"danger"===s&&(m=""!==c?c:"Name and Location fields cannot be empty."),l.a.createElement("div",null,l.a.createElement(h.c,{className:"border"},l.a.createElement("h4",{className:"mt-2 mb-5"},l.a.createElement("b",null,"Edit - Department")),l.a.createElement("form",null,l.a.createElement("div",{className:"row  p-2"},l.a.createElement("div",{className:"col-4"},l.a.createElement("label",null,"Department name")),l.a.createElement("input",{value:a,onChange:function(t){e.setState({Name:t.target.value})},className:"mb-1 "+(!0===o?"disabled-inputs":""),type:"text"})),l.a.createElement("div",{className:"row  p-2"},l.a.createElement("div",{className:"col-4"},l.a.createElement("label",null,"Location")),l.a.createElement("input",{value:n,onChange:function(t){e.setState({Location:t.target.value})},className:"mb-1 "+(!0===o?"disabled-inputs":""),type:"text"})),l.a.createElement("div",{className:"row p-2"},l.a.createElement("div",{className:"col-4"}),l.a.createElement("input",{className:"btn btn-success mr-1",onClick:this.handleSubmit,type:"button",value:!0===o?"Edit":"Update"}),l.a.createElement("input",{className:"mr-lg-1 btn bg-dark text-white btn-md",onClick:this.handleBack,type:"button",value:"Back"})))),l.a.createElement(C,{message:m,visible:r,type:s}))}}]),t}(n.Component),j=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){y("/api/Departments","","GET").then((function(e){var t=e.map((function(e,t){return l.a.createElement("option",{key:t+1,value:e.ID},e.Name,"(",e.Location,") ")}));a.setState({departmentOptions:t},(function(){}))}))},a.handleSubmit=function(){if(""===a.state.fName||""===a.state.lName||"select"===a.state.DepartmentId||"select"===a.state.gender||""===a.state.salary||""===a.state.jobTitle)return a.setState({showAlert:!0,alertType:"danger"});var e=JSON.stringify({ID:0,DepartmentId:a.state.departmentId,FirstName:a.state.fName,LastName:a.state.lName,Gender:a.state.gender,Salary:a.state.salary,JobTitle:a.state.jobTitle});y("/api/Employees",e,"POST").then((function(e){console.log(e),a.setState({showAlert:!0,alertType:"success",departmentId:"select",fName:"",lName:"",gender:"",salary:"",jobTitle:""})}))},a.handleBack=function(){return a.props.history.goBack()},a.state={token:localStorage.getItem("myToken")||"",showAlert:!1,alertType:"",departmentOptions:[],fName:"",lName:"",gender:"",salary:"",departmentId:"",jobTitle:""},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e,t=this,a=[l.a.createElement("option",{key:"1",value:"Male"},"Male"),l.a.createElement("option",{key:"2",value:"Female"},"Female")],n=localStorage.getItem("myToken"),r=this.state,s=r.fName,c=r.lName,o=r.gender,m=r.salary,i=r.departmentId,u=r.jobTitle,d=r.showAlert,p=r.alertType;return"success"===p?e="Employee has been added successfully.":"danger"===p&&(e="Please fill in all required fields."),n?l.a.createElement("div",null,l.a.createElement("div",{className:"container border"},l.a.createElement("h4",{className:"mt-2 mb-5"},l.a.createElement("b",null,"Add - Employee")),l.a.createElement("form",null,l.a.createElement("div",{className:"row  p-2"},l.a.createElement("div",{className:"col-5"},l.a.createElement("label",null,"First name")),l.a.createElement("input",{type:"text",value:s,onChange:function(e){t.setState({fName:e.target.value})}})),l.a.createElement("div",{className:"row  p-2"},l.a.createElement("div",{className:"col-5"},l.a.createElement("label",null,"Last name")),l.a.createElement("input",{type:"text",value:c,onChange:function(e){t.setState({lName:e.target.value})}})),l.a.createElement("div",{className:"row  p-2"},l.a.createElement("div",{className:"col-5"},l.a.createElement("label",null,"Gender")),l.a.createElement("select",{value:o,onChange:function(e){t.setState({gender:e.target.value})}},l.a.createElement("option",{key:"0",value:"select"},"Select"),a)),l.a.createElement("div",{className:"row  p-2"},l.a.createElement("div",{className:"col-5"},l.a.createElement("label",null,"Salary")),l.a.createElement("input",{value:m,onChange:function(e){t.setState({salary:e.target.value})},type:"text"})),l.a.createElement("div",{className:"row  p-2"},l.a.createElement("div",{className:"col-5"},l.a.createElement("label",null,"Department")),l.a.createElement("select",{value:i,onChange:function(e){t.setState({departmentId:e.target.value})}},l.a.createElement("option",{key:"0",value:"select"},"Select"),this.state.departmentOptions)),l.a.createElement("div",{className:"row  p-2"},l.a.createElement("div",{className:"col-5"},l.a.createElement("label",null,"Job Title")),l.a.createElement("input",{value:u,onChange:function(e){t.setState({jobTitle:e.target.value})},type:"text"})),l.a.createElement("div",{className:"row p-2"},l.a.createElement("div",{className:"col-5"}),l.a.createElement("input",{className:"btn btn-success mr-1",value:"Save",onClick:this.handleSubmit,type:"button"}),l.a.createElement("input",{className:"mr-lg-1 btn bg-dark text-white btn-md",onClick:this.handleBack,type:"button",value:"Back"})))),l.a.createElement(C,{message:e,visible:d,type:p})):l.a.createElement(P.a,{to:"/"})}}]),t}(n.Component),I=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){var e="/api/Departments";y(e,"","GET").then((function(e){if(e){var t=e.map((function(e,t){return l.a.createElement("option",{key:t+1,value:e.ID},e.Name," (",e.Location,") ")}));a.setState({departmentOptions:t},(function(){}))}})),0!==a.id&&(e="/api/Employees/"+a.id,y(e,"","GET").then((function(e){console.log(e),e&&a.setState({fName:e.FirstName,lName:e.LastName,gender:e.Gender,salary:e.Salary,departmentId:e.DepartmentId,jobTitle:e.JobTitle,joiningDate:e.JoiningDate})})))},a.handleSubmit=function(){if(a.state.readOnly)a.setState({readOnly:!1,showAlert:!1,alertType:""});else{if("select"===a.state.DepartmentId||""===a.state.salary||""===a.state.jobTitle)return a.setState({showAlert:!0,alertType:"danger"});var e="/api/Employees/"+a.id,t=JSON.stringify({ID:a.id,DepartmentId:a.state.departmentId,FirstName:a.state.fName,LastName:a.state.lName,Gender:a.state.gender,Salary:a.state.salary,JobTitle:a.state.jobTitle,JoiningDate:a.state.joiningDate});y(e,t,"PUT").then((function(e){if(!e.Message||"SUCCESS"!==e.Message.toUpperCase())return console.log(e),a.setState({showAlert:!0,alertType:"danger",message:"Some error occured, please try again."});a.setState({showAlert:!0,alertType:"success",readOnly:!0})}))}},a.handleBack=function(){return a.props.history.goBack()},a.state={showAlert:!1,alertType:"",departmentOptions:[],fName:"",lName:"",gender:"",salary:"",departmentId:"",jobTitle:"",joiningDate:"",id:0,message:"",readOnly:!1},a.id=0,a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(e){var t=this;if(!localStorage.getItem("myToken"))return l.a.createElement(P.a,{to:"/"});this.props.location&&this.props.location.data&&this.props.location.data.ID&&(this.id=this.props.location.data.ID);var a,n=this.state,r=n.fName,s=n.lName,c=n.gender,o=n.salary,m=n.departmentId,i=n.jobTitle,u=n.showAlert,d=n.alertType,p=n.message,E=n.readOnly;return"success"===d?a="Employee data has been edited successfully.":"danger"===d&&(a=""!==p?p:"Please fill in all required fields."),l.a.createElement("div",null,l.a.createElement("div",{className:"container border"},l.a.createElement("h4",{className:"mt-2 mb-5"},l.a.createElement("b",null,"Edit - Employee")),l.a.createElement("form",null,l.a.createElement("div",{className:"row  p-2"},l.a.createElement("div",{className:"col-5"},l.a.createElement("label",null,"Employee name")),l.a.createElement("label",null,r," ",s)),l.a.createElement("div",{className:"row  p-2"},l.a.createElement("div",{className:"col-5"},l.a.createElement("label",null,"Gender")),l.a.createElement("label",null,c)),l.a.createElement("div",{className:"row  p-2"},l.a.createElement("div",{className:"col-5"},l.a.createElement("label",null,"Salary")),l.a.createElement("input",{className:!0===E?"disabled-inputs":"",value:o,onChange:function(e){t.setState({salary:e.target.value})},type:"text"})),l.a.createElement("div",{className:"row  p-2"},l.a.createElement("div",{className:"col-5"},l.a.createElement("label",null,"Department")),l.a.createElement("select",{className:!0===E?"disabled-inputs":"",value:m,onChange:function(e){t.setState({departmentId:e.target.value})}},l.a.createElement("option",{key:"0",value:"select"},"Select"),this.state.departmentOptions)),l.a.createElement("div",{className:"row  p-2"},l.a.createElement("div",{className:"col-5"},l.a.createElement("label",null,"Job Title")),l.a.createElement("input",{className:!0===E?"disabled-inputs":"",value:i,onChange:function(e){t.setState({jobTitle:e.target.value})},type:"text"})),l.a.createElement("div",{className:"row p-2"},l.a.createElement("div",{className:"col-5"}),l.a.createElement("input",{className:"btn btn-success mr-1",value:!0===E?"Edit":"Update",onClick:function(){return t.handleSubmit()},type:"button"}),l.a.createElement("input",{className:"mr-lg-1 btn bg-dark text-white btn-md",onClick:this.handleBack,type:"button",value:"Back"})))),l.a.createElement(C,{message:a,visible:u,type:d}))}}]),t}(n.Component),U=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){var e="/api/Account/UserInfo";y(e,"","GET").then((function(t){t.UserId&&a.setState({UserId:t.UserId,Email:t.Email,Phone:t.Phone},(function(){e="/api/AspNetUserInfoes/"+a.state.UserId,y(e,"","GET").then((function(e){e.length&&e.length>0&&a.setState({FirstName:e[0].FirstName,LastName:e[0].LastName,Gender:e[0].Gender,DOB:e[0].DOB})}))}))}))},a.handleEditUser=function(){a.props.history.push("/EditUserProfile")},a.state={UserId:"",UserName:localStorage.getItem("myUserName"),Email:"",FirstName:"",LastName:"",Gender:"",DOB:"",Phone:""},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return localStorage.getItem("myToken")?l.a.createElement("div",null,l.a.createElement(h.c,{className:"border"},l.a.createElement("div",{className:"row  p-2"},l.a.createElement("h4",{className:"mt-2 mb-5 col-11"},l.a.createElement("b",null,"User Profile")),l.a.createElement("div",{className:"col-1"},l.a.createElement("button",{type:"button",onClick:this.handleEditUser,className:"btn btn-success add-new mt-1 float-rt"},"Edit"))),l.a.createElement("form",null,l.a.createElement("div",{className:"row  p-2"},l.a.createElement("div",{className:"col-4"},l.a.createElement("label",null,"Username")),l.a.createElement("label",{className:"mt-1"},this.state.UserName)),l.a.createElement("div",{className:"row  p-2"},l.a.createElement("div",{className:"col-4"},l.a.createElement("label",null,"Name")),l.a.createElement("label",{className:"mt-1"},this.state.FirstName," ",this.state.LastName)),l.a.createElement("div",{className:"row  p-2"},l.a.createElement("div",{className:"col-4"},l.a.createElement("label",null,"Email")),l.a.createElement("label",{className:"mt-1"},this.state.Email)),l.a.createElement("div",{className:"row  p-2"},l.a.createElement("div",{className:"col-4"},l.a.createElement("label",null,"Phone")),l.a.createElement("label",{className:"mt-1"},this.state.Phone)),l.a.createElement("div",{className:"row  p-2"},l.a.createElement("div",{className:"col-4"},l.a.createElement("label",null,"Gender")),l.a.createElement("label",{className:"mt-1"},this.state.Gender)),l.a.createElement("div",{className:"row  p-2"},l.a.createElement("div",{className:"col-4"},l.a.createElement("label",null,"Date of Birth")),l.a.createElement("label",{className:"mt-1"},this.state.DOB)),l.a.createElement("div",{className:"row  p-2"},l.a.createElement("div",{className:"col-4"}),l.a.createElement(f.a,{to:"/ChangePassword",className:"mt-1"},"Change Password"))))):l.a.createElement(P.a,{to:"/"})}}]),t}(n.Component),A=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("h1",null,"Page Not Found"),l.a.createElement("p",null,"Sorry, there is nothing to see here."),l.a.createElement("p",null,l.a.createElement(f.a,{to:"/"},"Back to Home")))}}]),t}(n.Component);var x=function(e){try{if(""!==e){var t=JSON.parse(e);if(null!==t.ModelState){var a=t.ModelState;if(null!==Object.getOwnPropertyNames(a)){var n=Object.getOwnPropertyNames(a);if(""===n[0])return a[""][0];if("model.ConfirmPassword"===n[0])return a["model.ConfirmPassword"][0]}}}}catch(l){return"Some error occured, please try again"}},B=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleSubmit=function(){if(""===a.state.oldPassword||""===a.state.newPassword||""===a.state.confirmPassword)return a.setState({showAlert:!0,alertType:"danger"});var e=JSON.stringify({OldPassword:a.state.oldPassword,NewPassword:a.state.newPassword,ConfirmPassword:a.state.confirmPassword});y("/api/Account/ChangePassword",e,"POST").then((function(e){return e.Message&&"SUCCESS"===e.Message.toUpperCase()?a.setState({showAlert:!0,alertType:"success"}):a.setState({showAlert:!0,alertType:"danger",message:x(e)})}))},a.handleBack=function(){return a.props.history.goBack()},a.state={token:localStorage.getItem("myToken")||"",oldPassword:"",newPassword:"",confirmPassword:"",showAlert:!1,alertType:"",message:""},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;if(!localStorage.getItem("myToken"))return l.a.createElement(P.a,{to:"/"});var t,a=this.state,n=a.confirmPassword,r=a.newPassword,s=a.oldPassword,c=a.message,o=a.showAlert,m=a.alertType;return"success"===m?t="Password has been changed successfully.":"danger"===m&&(t=""!==c?c:"OldPassword, NewPassword and ConfirmPassword fields cannot be empty."),l.a.createElement("div",null,l.a.createElement("div",{className:"container border"},l.a.createElement("h5",{className:"mt-2 mb-5"},l.a.createElement("b",null,"Change Password")),l.a.createElement("form",null,l.a.createElement("div",{className:"row p-2"},l.a.createElement("div",{className:"col-4"},l.a.createElement("label",null,"Old Password")),l.a.createElement("input",{value:s,onChange:function(t){return e.setState({oldPassword:t.target.value,alertType:"",showAlert:!1})},type:"password"})),l.a.createElement("div",{className:"row p-2"},l.a.createElement("div",{className:"col-4"},l.a.createElement("label",null,"New Password")),l.a.createElement("input",{value:r,onChange:function(t){return e.setState({newPassword:t.target.value,alertType:"",showAlert:!1})},type:"password"})),l.a.createElement("div",{className:"row p-2"},l.a.createElement("div",{className:"col-4"},l.a.createElement("label",null,"Confirm New Password")),l.a.createElement("input",{value:n,onChange:function(t){return e.setState({confirmPassword:t.target.value,alertType:"",showAlert:!1})},type:"password"})),l.a.createElement("div",{className:"row p-2"},l.a.createElement("div",{className:"col-4"}),l.a.createElement("input",{className:"btn btn-success mr-2",value:"Submit",onClick:this.handleSubmit,type:"button"}),l.a.createElement("input",{className:"mr-lg-1 btn bg-dark text-white btn-md",onClick:this.handleBack,type:"button",value:"Back"})))),l.a.createElement(C,{message:t,visible:o,type:m}))}}]),t}(n.Component),L=a(66),R=a.n(L),M=(a(84),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){var e="/api/Account/UserInfo";y(e,"","GET").then((function(t){t.UserId&&a.setState({UserId:t.UserId?t.UserId:"",Email:t.Email?t.Email:"",Phone:t.Phone?t.Phone:""},(function(){e="/api/AspNetUserInfoes/"+a.state.UserId,y(e,"","GET").then((function(e){a.prevEmail=a.state.Email,a.prevPhone=a.state.Phone,e.length&&e.length>0&&a.setState({Id:e[0].Id,FirstName:e[0].FirstName,LastName:e[0].LastName,Gender:e[0].Gender,DOB:null!==e[0].DOB?new Date(e[0].DOB):""})}))}))}))},a.handleChangeEmail=function(e){a.setState({Email:e.target.value},(function(){a.state.Email!==a.prevEmail?a.setState({ShowConfirmEmail:!0}):a.setState({ShowConfirmEmail:!1})}))},a.handleChangePhone=function(e){a.setState({Phone:e.target.value},(function(){a.state.Phone!==a.prevPhone?a.setState({ShowConfirmPhone:!0}):a.setState({ShowConfirmPhone:!1})}))},a.handleChangeDOB=function(e){a.setState({DOB:e})},a.handleSubmit=function(){if(""===a.state.FirstName||""===a.state.LastName||"select"===a.state.Gender||""===a.state.DOB||""===a.state.Phone||""===a.state.Email)return a.setState({showAlert:!0,alertType:"danger"});var e={UserId:a.state.UserId,UserName:a.state.UserName,Email:a.state.Email,Phone:a.state.Phone};a.state.ShowConfirmEmail?e.ConfirmEmail=a.state.ConfirmEmail:e.ConfirmEmail=a.state.Email,a.state.ShowConfirmPhone?e.ConfirmPhone=a.state.ConfirmPhone:e.ConfirmPhone=a.state.Phone;var t="/api/AspNetUserInfoes/"+a.state.UserId,n=JSON.stringify({Id:a.state.Id,FirstName:a.state.FirstName,LastName:a.state.LastName,Gender:a.state.Gender,DOB:a.state.DOB,UsersId:a.state.UserId,userInfoViewModel:e});y(t,n,"PUT").then((function(e){console.log(e),e.Message&&"SUCCESS"===e.Message?a.props.history.push("/UserProfile"):a.setState({showAlert:!0,alertType:"danger",message:e})}))},a.handleBack=function(){return a.props.history.goBack()},a.state={UserId:"",Id:"",UserName:localStorage.getItem("myUserName"),Email:"",ConfirmEmail:"",FirstName:"",LastName:"",Gender:"",DOB:"",Phone:"",ConfirmPhone:"",ShowConfirmEmail:!1,ShowConfirmPhone:!1,showAlert:!1,alertType:"",message:""},a.prevEmail="",a.prevPhone="",a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;if(!localStorage.getItem("myToken"))return l.a.createElement(P.a,{to:"/"});var t,a=[l.a.createElement("option",{key:"1",value:"Male"},"Male"),l.a.createElement("option",{key:"2",value:"Female"},"Female")],n=this.state,r=n.Email,s=n.FirstName,c=n.LastName,o=n.Gender,m=n.DOB,i=n.Phone,u=n.ConfirmPhone,d=n.ConfirmEmail,p=n.showAlert,E=n.alertType,g=n.message;return"success"===E?t="User Profile has been edited successfully.":"danger"===E&&(t=""!==g?g:"Please fill in all required fields."),l.a.createElement("div",null,l.a.createElement(h.c,{className:"border"},l.a.createElement("h4",{className:"mt-2 mb-5"},l.a.createElement("b",null,"Edit - User Profile")),l.a.createElement("form",null,l.a.createElement("div",{className:"row  p-2"},l.a.createElement("div",{className:"col-4"},l.a.createElement("label",null,"Username")),l.a.createElement("label",{className:"mt-1"},this.state.UserName)),l.a.createElement("div",{className:"row  p-2"},l.a.createElement("div",{className:"col-4"},l.a.createElement("label",null,"First Name")),l.a.createElement("input",{value:s,onChange:function(t){e.setState({FirstName:t.target.value})},type:"text"})),l.a.createElement("div",{className:"row  p-2"},l.a.createElement("div",{className:"col-4"},l.a.createElement("label",null,"Last Name")),l.a.createElement("input",{value:c,onChange:function(t){e.setState({LastName:t.target.value})},type:"text"})),l.a.createElement("div",{className:"row  p-2"},l.a.createElement("div",{className:"col-4"},l.a.createElement("label",null,"Email")),l.a.createElement("input",{value:r,onChange:function(t){return e.handleChangeEmail(t)},type:"text"})),l.a.createElement("div",{className:"row  p-2 "+(!0===this.state.ShowConfirmEmail?" ":"d-none")},l.a.createElement("div",{className:"col-4"},l.a.createElement("label",null,"Confirm Email")),l.a.createElement("input",{value:d,onChange:function(t){e.setState({ConfirmEmail:t.target.value})},type:"text"})),l.a.createElement("div",{className:"row  p-2"},l.a.createElement("div",{className:"col-4"},l.a.createElement("label",null,"Phone")),l.a.createElement("input",{value:i,onChange:function(t){return e.handleChangePhone(t)},type:"text"})),l.a.createElement("div",{className:"row  p-2 "+(!0===this.state.ShowConfirmPhone?" ":"d-none")},l.a.createElement("div",{className:"col-4"},l.a.createElement("label",null,"Confirm Phone")),l.a.createElement("input",{value:u,onChange:function(t){e.setState({ConfirmPhone:t.target.value})},type:"text"})),l.a.createElement("div",{className:"row  p-2"},l.a.createElement("div",{className:"col-4"},l.a.createElement("label",null,"Gender")),l.a.createElement("select",{value:o,onChange:function(t){e.setState({Gender:t.target.value})}},l.a.createElement("option",{key:"0",value:"select"},"Select"),a)),l.a.createElement("div",{className:"row  p-2"},l.a.createElement("div",{className:"col-4"},l.a.createElement("label",null,"Date of Birth")),l.a.createElement(R.a,{placeholderText:"dd/MM/yyyy",dateFormat:"dd/MM/yyyy",selected:m,onChange:this.handleChangeDOB})),l.a.createElement("div",{className:"row  p-2"},l.a.createElement("div",{className:"col-4"}),l.a.createElement("input",{className:"btn btn-success mr-1",value:"Save",onClick:function(){return e.handleSubmit()},type:"button"}),l.a.createElement("input",{className:"mr-lg-1 btn bg-dark text-white btn-md",onClick:this.handleBack,type:"button",value:"Back"})))),l.a.createElement(C,{message:t,visible:p,type:E}))}}]),t}(n.Component)),F=(a(142),function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return l.a.createElement(b,null,l.a.createElement(p.a,null,l.a.createElement(E.a,{exact:!0,path:"/",component:w}),l.a.createElement(E.a,{exact:!0,path:"/Employees",component:k}),l.a.createElement(E.a,{exact:!0,path:"/Departments",component:O}),l.a.createElement(E.a,{exact:!0,path:"/AddDepartment",component:T}),l.a.createElement(E.a,{exact:!0,path:"/EditDepartment",component:D}),l.a.createElement(E.a,{exact:!0,path:"/AddEmployee",component:j}),l.a.createElement(E.a,{exact:!0,path:"/EditEmployee",component:I}),l.a.createElement(E.a,{exact:!0,path:"/UserProfile",component:U}),l.a.createElement(E.a,{exact:!0,path:"/ChangePassword",component:B}),l.a.createElement(E.a,{exact:!0,path:"/EditUserProfile",component:M}),l.a.createElement(E.a,{path:"/*",component:A})))}}]),t}(n.Component));F.displayName=F.name;var G=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function J(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var H=a(69),W=a.n(H),q=document.getElementsByTagName("base")[0].getAttribute("href"),V=document.getElementById("root");s.a.render(l.a.createElement(c.a,{basename:q},l.a.createElement("div",null,l.a.createElement(F,null),l.a.createElement((function(e){return Object(N.usePromiseTracker)().promiseInProgress&&l.a.createElement("div",{style:{width:"100%",height:"70",display:"flex",justifyContent:"center",alignItems:"center"}},l.a.createElement(W.a,{type:"ThreeDots",color:"#2BAD60",height:70,width:70}),"    ")}),null))),V),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");G?function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):J(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e):J(e)}))}}()},60:function(e,t,a){},70:function(e,t,a){e.exports=a(162)},76:function(e,t,a){},79:function(e,t,a){}},[[70,1,2]]]);
//# sourceMappingURL=main.b00f6f80.chunk.js.map